!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("PIXI")):"function"==typeof define&&define.amd?define("pixi5_ts_webpack",["PIXI"],e):"object"==typeof exports?exports.pixi5_ts_webpack=e(require("PIXI")):t.pixi5_ts_webpack=e(t.PIXI)}(window,function(r){return i={},a.m=n=[function(t,e,r){t.exports=r(1)},function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.GameManager=void 0;var o=i(r(2));window.PIXI=o,r(3);var s=(l.prototype.loading=function(){var t=this;this.app.loader.add("spine","assets/spine/testSpine.json"),this.app.loader.add("pic","assets/PIXIJS.png"),this.app.loader.onComplete.add(function(){t.onLoaderComplete(t.app.loader)}),this.app.loader.load()},l.prototype.onLoaderComplete=function(t){this.showSpriteRotate(t),this.showSpineAnimation(t)},l.prototype.showSpriteRotate=function(t){var e=new o.Sprite(t.resources.pic.texture);e.x=this.app.renderer.width/2,e.y=this.app.renderer.height/2,e.anchor.x=.5,e.anchor.y=.5,this.app.stage.addChild(e),this.app.ticker.add(function(){e.rotation-=.01})},l.prototype.showSpineAnimation=function(t){var e=new o.spine.Spine(t.resources.spine.spineData);e.state.setAnimation(0,"animation",!0),e.position.set(-200,200),this.app.stage.addChild(e)},l);function l(){this.app=new o.Application,document.body.appendChild(this.app.view),this.loading()}e.GameManager=s,window.onload=function(){new s},window.PIXI=o},function(t,e){t.exports=r},function(t,e){var n,r,a,i,o,s,l,h,c,u,d,p,f,V,m,g,v,y,x,M,w,b,E,ht,T,S,I,A,R,C,z,P,k,N,F,O,_,D,X,U,L,B,Y,W,q,j,G,Z,H,J,K,Q,$,tt,et,rt,nt,at,it,ot,st,lt,ct,ut,dt,pt,ft,mt,gt,vt,yt,xt,Mt,wt,bt,Et,Tt,St,It,At,Rt,Ct,Pt,kt,Vt,Nt,Ft,Ot,_t,Dt,Xt,Ut,Lt,Bt,Yt,Wt,qt,jt,Gt,Ht,zt,Zt,Jt,Kt,Qt,$t,te,ee,re=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function ne(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}function ae(t){this.atlas=t}function ie(t,e,r){if(this.matrix=new PIXI.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=r,this.setToSetupPose()}function oe(t,e,r){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=y.Normal,this.skinRequired=!1,this.color=new v.Color,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=r}function se(t,e,r){this.name=t,this.order=e,this.skinRequired=r}function le(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e}function he(t){this.name=t}function ce(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findBone(t.target.name)}function ue(t){var e=A.call(this,t,0,!1)||this;return e.bones=new Array,e.bendDirection=1,e.compress=!1,e.stretch=!1,e.uniform=!1,e.mix=1,e.softness=0,e}function de(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var r=0,n=t.bones.length;r<n;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}function pe(t){var e=F.call(this,t,0,!1)||this;return e.bones=new Array,e}function fe(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var r,n=t.bones[e],a=void 0;null==n.parent?a=new L.Bone(n,this,null):(r=this.bones[n.parent.index],a=new L.Bone(n,this,r),r.children.push(a)),this.bones.push(a)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var i=t.slots[e],a=this.bones[i.boneData.index],o=new L.Slot(i,a);this.slots.push(o),this.drawOrder.push(o)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var s=t.ikConstraints[e];this.ikConstraints.push(new L.IkConstraint(s,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var l=t.transformConstraints[e];this.transformConstraints.push(new L.TransformConstraint(l,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var h=t.pathConstraints[e];this.pathConstraints.push(new L.PathConstraint(h,this))}this.color=new L.Color(1,1,1,1),this.updateCache()}function me(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new q.Pool(function(){return q.Utils.newFloatArray(16)})}function ge(){this.triangulator=new Z.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}function ve(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}function ye(t,e){if(this.deform=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new rt.Color,this.darkColor=null==t.darkColor?null:new rt.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}function xe(t,e,r){if(this.color=new it.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==r)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=r}function Me(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new ct.Vector2,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findBone(t.target.name)}function we(t){var e=ft.call(this,t,0,!1)||this;return e.bones=new Array,e.rotateMix=0,e.translateMix=0,e.scaleMix=0,e.shearMix=0,e.offsetRotation=0,e.offsetX=0,e.offsetY=0,e.offsetScaleX=0,e.offsetScaleY=0,e.offsetShearY=0,e.relative=!1,e.local=!1,e}function be(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new vt.Pool(function(){return new Array}),this.polygonIndicesPool=new vt.Pool(function(){return new Array})}function Ee(t){var e=It.call(this,t)||this;return e.color=new St.Color(1,1,1,1),e}function Te(t){var e=Pt.call(this,t)||this;return e.color=new Ct.Color(.2275,.2275,.8078,1),e}function Se(t){var e=Ft.call(this,t)||this;return e.color=new Nt.Color(1,1,1,1),e.tempColor=new Nt.Color(0,0,0,0),e}function Ie(t){var e=Xt.call(this,t)||this;return e.closed=!1,e.constantSpeed=!1,e.color=new Dt.Color(1,1,1,1),e}function Ae(t){var e=Yt.call(this,t)||this;return e.color=new Bt.Color(.38,.94,0,1),e}function Re(t){var e=Gt.call(this,t)||this;return e.x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.rotation=0,e.width=0,e.height=0,e.color=new jt.Color(1,1,1,1),e.offset=jt.Utils.newFloatArray(8),e.uvs=jt.Utils.newFloatArray(8),e.tempColor=new jt.Color(1,1,1,1),e}function Ce(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}function Pe(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}(function(B){var Y,t,g,e,r,n,W=(a.prototype.hasTimeline=function(t){return 1==this.timelineIds[t]},a.prototype.apply=function(t,e,r,n,a,i,o,s){if(null==t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(r%=this.duration,0<e&&(e%=this.duration));for(var l=this.timelines,h=0,c=l.length;h<c;h++)l[h].apply(t,e,r,a,i,o,s)},a.binarySearch=function(t,e,r){void 0===r&&(r=1);var n=0,a=t.length/r-2;if(0==a)return r;for(var i=a>>>1;;){if(t[(i+1)*r]<=e?n=i+1:a=i,n==a)return(n+1)*r;i=n+a>>>1}},a.linearSearch=function(t,e,r){for(var n=0,a=t.length-r;n<=a;n+=r)if(t[n]>e)return n;return-1},a);function a(t,e,r){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.timelineIds=[];for(var n=0;n<e.length;n++)this.timelineIds[e[n].getPropertyId()]=!0;this.duration=r}B.Animation=W,(t=Y=B.MixBlend||(B.MixBlend={}))[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add",(e=g=B.MixDirection||(B.MixDirection={}))[e.mixIn=0]="mixIn",e[e.mixOut=1]="mixOut",(n=r=B.TimelineType||(B.TimelineType={}))[n.rotate=0]="rotate",n[n.translate=1]="translate",n[n.scale=2]="scale",n[n.shear=3]="shear",n[n.attachment=4]="attachment",n[n.color=5]="color",n[n.deform=6]="deform",n[n.event=7]="event",n[n.drawOrder=8]="drawOrder",n[n.ikConstraint=9]="ikConstraint",n[n.transformConstraint=10]="transformConstraint",n[n.pathConstraintPosition=11]="pathConstraintPosition",n[n.pathConstraintSpacing=12]="pathConstraintSpacing",n[n.pathConstraintMix=13]="pathConstraintMix",n[n.twoColor=14]="twoColor";var i=(y.prototype.getFrameCount=function(){return this.curves.length/y.BEZIER_SIZE+1},y.prototype.setLinear=function(t){this.curves[t*y.BEZIER_SIZE]=y.LINEAR},y.prototype.setStepped=function(t){this.curves[t*y.BEZIER_SIZE]=y.STEPPED},y.prototype.getCurveType=function(t){var e=t*y.BEZIER_SIZE;if(e==this.curves.length)return y.LINEAR;var r=this.curves[e];return r==y.LINEAR?y.LINEAR:r==y.STEPPED?y.STEPPED:y.BEZIER},y.prototype.setCurve=function(t,e,r,n,a){var i=.03*(2*-e+n),o=.03*(2*-r+a),s=.006*(3*(e-n)+1),l=.006*(3*(r-a)+1),h=2*i+s,c=2*o+l,u=.3*e+i+.16666667*s,d=.3*r+o+.16666667*l,p=t*y.BEZIER_SIZE,f=this.curves;f[p++]=y.BEZIER;for(var m=u,g=d,v=p+y.BEZIER_SIZE-1;p<v;p+=2)f[p]=m,f[p+1]=g,u+=h,d+=c,h+=s,c+=l,m+=u,g+=d},y.prototype.getCurvePercent=function(t,e){e=B.MathUtils.clamp(e,0,1);var r=this.curves,n=t*y.BEZIER_SIZE,a=r[n];if(a==y.LINEAR)return e;if(a==y.STEPPED)return 0;for(var i=0,o=++n,s=n+y.BEZIER_SIZE-1;n<s;n+=2)if(e<=(i=r[n])){var l=void 0,h=void 0;return(h=n==o?l=0:(l=r[n-2],r[n-1]))+(r[n+1]-h)*(e-l)/(i-l)}var c=r[n-1];return c+(1-c)*(e-i)/(1-i)},y.LINEAR=0,y.STEPPED=1,y.BEZIER=2,y.BEZIER_SIZE=19,y);function y(t){if(t<=0)throw new Error("frameCount must be > 0: "+t);this.curves=B.Utils.newFloatArray((t-1)*y.BEZIER_SIZE)}B.CurveTimeline=i;var o,s=(re(v,o=i),v.prototype.getPropertyId=function(){return(r.rotate<<24)+this.boneIndex},v.prototype.setFrame=function(t,e,r){t<<=1,this.frames[t]=e,this.frames[t+v.ROTATION]=r},v.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.bones[this.boneIndex];if(l.active)if(r<s[0])switch(i){case Y.setup:return void(l.rotation=l.data.rotation);case Y.first:var h=l.data.rotation-l.rotation;l.rotation+=(h-360*(16384-(16384.499999999996-h/360|0)))*a}else if(r>=s[s.length-v.ENTRIES]){var c=s[s.length+v.PREV_ROTATION];switch(i){case Y.setup:l.rotation=l.data.rotation+c*a;break;case Y.first:case Y.replace:c+=l.data.rotation-l.rotation,c-=360*(16384-(16384.499999999996-c/360|0));case Y.add:l.rotation+=c*a}}else{var u=W.binarySearch(s,r,v.ENTRIES),d=s[u+v.PREV_ROTATION],p=s[u],f=this.getCurvePercent((u>>1)-1,1-(r-p)/(s[u+v.PREV_TIME]-p)),m=d+((m=s[u+v.ROTATION]-d)-360*(16384-(16384.499999999996-m/360|0)))*f;switch(i){case Y.setup:l.rotation=l.data.rotation+(m-360*(16384-(16384.499999999996-m/360|0)))*a;break;case Y.first:case Y.replace:m+=l.data.rotation-l.rotation;case Y.add:l.rotation+=(m-360*(16384-(16384.499999999996-m/360|0)))*a}}},v.ENTRIES=2,v.PREV_TIME=-2,v.PREV_ROTATION=-1,v.ROTATION=1,v);function v(t){var e=o.call(this,t)||this;return e.frames=B.Utils.newFloatArray(t<<1),e}B.RotateTimeline=s;var l,h=(re(f,l=i),f.prototype.getPropertyId=function(){return(r.translate<<24)+this.boneIndex},f.prototype.setFrame=function(t,e,r,n){t*=f.ENTRIES,this.frames[t]=e,this.frames[t+f.X]=r,this.frames[t+f.Y]=n},f.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.bones[this.boneIndex];if(l.active)if(r<s[0])switch(i){case Y.setup:return l.x=l.data.x,void(l.y=l.data.y);case Y.first:l.x+=(l.data.x-l.x)*a,l.y+=(l.data.y-l.y)*a}else{var h,c,u,d=0,p=0;switch(r>=s[s.length-f.ENTRIES]?(d=s[s.length+f.PREV_X],p=s[s.length+f.PREV_Y]):(d=s[(h=W.binarySearch(s,r,f.ENTRIES))+f.PREV_X],p=s[h+f.PREV_Y],c=s[h],u=this.getCurvePercent(h/f.ENTRIES-1,1-(r-c)/(s[h+f.PREV_TIME]-c)),d+=(s[h+f.X]-d)*u,p+=(s[h+f.Y]-p)*u),i){case Y.setup:l.x=l.data.x+d*a,l.y=l.data.y+p*a;break;case Y.first:case Y.replace:l.x+=(l.data.x+d-l.x)*a,l.y+=(l.data.y+p-l.y)*a;break;case Y.add:l.x+=d*a,l.y+=p*a}}},f.ENTRIES=3,f.PREV_TIME=-3,f.PREV_X=-2,f.PREV_Y=-1,f.X=1,f.Y=2,f);function f(t){var e=l.call(this,t)||this;return e.frames=B.Utils.newFloatArray(t*f.ENTRIES),e}B.TranslateTimeline=h;var c,u=(re(x,c=h),x.prototype.getPropertyId=function(){return(r.scale<<24)+this.boneIndex},x.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.bones[this.boneIndex];if(l.active)if(r<s[0])switch(i){case Y.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case Y.first:l.scaleX+=(l.data.scaleX-l.scaleX)*a,l.scaleY+=(l.data.scaleY-l.scaleY)*a}else{var h,c,u,d=0,p=0;if(p=r>=s[s.length-x.ENTRIES]?(d=s[s.length+x.PREV_X]*l.data.scaleX,s[s.length+x.PREV_Y]*l.data.scaleY):(d=s[(h=W.binarySearch(s,r,x.ENTRIES))+x.PREV_X],p=s[h+x.PREV_Y],c=s[h],u=this.getCurvePercent(h/x.ENTRIES-1,1-(r-c)/(s[h+x.PREV_TIME]-c)),d=(d+(s[h+x.X]-d)*u)*l.data.scaleX,(p+(s[h+x.Y]-p)*u)*l.data.scaleY),1==a)i==Y.add?(l.scaleX+=d-l.data.scaleX,l.scaleY+=p-l.data.scaleY):(l.scaleX=d,l.scaleY=p);else{var f=0,m=0;if(o==g.mixOut)switch(i){case Y.setup:f=l.data.scaleX,m=l.data.scaleY,l.scaleX=f+(Math.abs(d)*B.MathUtils.signum(f)-f)*a,l.scaleY=m+(Math.abs(p)*B.MathUtils.signum(m)-m)*a;break;case Y.first:case Y.replace:f=l.scaleX,m=l.scaleY,l.scaleX=f+(Math.abs(d)*B.MathUtils.signum(f)-f)*a,l.scaleY=m+(Math.abs(p)*B.MathUtils.signum(m)-m)*a;break;case Y.add:f=l.scaleX,m=l.scaleY,l.scaleX=f+(Math.abs(d)*B.MathUtils.signum(f)-l.data.scaleX)*a,l.scaleY=m+(Math.abs(p)*B.MathUtils.signum(m)-l.data.scaleY)*a}else switch(i){case Y.setup:f=Math.abs(l.data.scaleX)*B.MathUtils.signum(d),m=Math.abs(l.data.scaleY)*B.MathUtils.signum(p),l.scaleX=f+(d-f)*a,l.scaleY=m+(p-m)*a;break;case Y.first:case Y.replace:f=Math.abs(l.scaleX)*B.MathUtils.signum(d),m=Math.abs(l.scaleY)*B.MathUtils.signum(p),l.scaleX=f+(d-f)*a,l.scaleY=m+(p-m)*a;break;case Y.add:f=B.MathUtils.signum(d),m=B.MathUtils.signum(p),l.scaleX=Math.abs(l.scaleX)*f+(d-Math.abs(l.data.scaleX)*f)*a,l.scaleY=Math.abs(l.scaleY)*m+(p-Math.abs(l.data.scaleY)*m)*a}}}},x);function x(t){return c.call(this,t)||this}B.ScaleTimeline=u;var d,p=(re(m,d=h),m.prototype.getPropertyId=function(){return(r.shear<<24)+this.boneIndex},m.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.bones[this.boneIndex];if(l.active)if(r<s[0])switch(i){case Y.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case Y.first:l.shearX+=(l.data.shearX-l.shearX)*a,l.shearY+=(l.data.shearY-l.shearY)*a}else{var h,c,u,d=0,p=0;switch(r>=s[s.length-m.ENTRIES]?(d=s[s.length+m.PREV_X],p=s[s.length+m.PREV_Y]):(d=s[(h=W.binarySearch(s,r,m.ENTRIES))+m.PREV_X],p=s[h+m.PREV_Y],c=s[h],u=this.getCurvePercent(h/m.ENTRIES-1,1-(r-c)/(s[h+m.PREV_TIME]-c)),d+=(s[h+m.X]-d)*u,p+=(s[h+m.Y]-p)*u),i){case Y.setup:l.shearX=l.data.shearX+d*a,l.shearY=l.data.shearY+p*a;break;case Y.first:case Y.replace:l.shearX+=(l.data.shearX+d-l.shearX)*a,l.shearY+=(l.data.shearY+p-l.shearY)*a;break;case Y.add:l.shearX+=d*a,l.shearY+=p*a}}},m);function m(t){return d.call(this,t)||this}B.ShearTimeline=p;var M,w=(re(b,M=i),b.prototype.getPropertyId=function(){return(r.color<<24)+this.slotIndex},b.prototype.setFrame=function(t,e,r,n,a,i){t*=b.ENTRIES,this.frames[t]=e,this.frames[t+b.R]=r,this.frames[t+b.G]=n,this.frames[t+b.B]=a,this.frames[t+b.A]=i},b.prototype.apply=function(t,e,r,n,a,i,o){var s=t.slots[this.slotIndex];if(s.bone.active){var l=this.frames;if(r<l[0])switch(i){case Y.setup:return void s.color.setFromColor(s.data.color);case Y.first:var h=s.color,c=s.data.color;h.add((c.r-h.r)*a,(c.g-h.g)*a,(c.b-h.b)*a,(c.a-h.a)*a)}else{var u,d,p,f,m=0,g=0,v=0,y=0;r>=l[l.length-b.ENTRIES]?(m=l[(u=l.length)+b.PREV_R],g=l[u+b.PREV_G],v=l[u+b.PREV_B],y=l[u+b.PREV_A]):(m=l[(d=W.binarySearch(l,r,b.ENTRIES))+b.PREV_R],g=l[d+b.PREV_G],v=l[d+b.PREV_B],y=l[d+b.PREV_A],p=l[d],f=this.getCurvePercent(d/b.ENTRIES-1,1-(r-p)/(l[d+b.PREV_TIME]-p)),m+=(l[d+b.R]-m)*f,g+=(l[d+b.G]-g)*f,v+=(l[d+b.B]-v)*f,y+=(l[d+b.A]-y)*f),1==a?s.color.set(m,g,v,y):(h=s.color,i==Y.setup&&h.setFromColor(s.data.color),h.add((m-h.r)*a,(g-h.g)*a,(v-h.b)*a,(y-h.a)*a))}}},b.ENTRIES=5,b.PREV_TIME=-5,b.PREV_R=-4,b.PREV_G=-3,b.PREV_B=-2,b.PREV_A=-1,b.R=1,b.G=2,b.B=3,b.A=4,b);function b(t){var e=M.call(this,t)||this;return e.frames=B.Utils.newFloatArray(t*b.ENTRIES),e}B.ColorTimeline=w;var E,T=(re(S,E=i),S.prototype.getPropertyId=function(){return(r.twoColor<<24)+this.slotIndex},S.prototype.setFrame=function(t,e,r,n,a,i,o,s,l){t*=S.ENTRIES,this.frames[t]=e,this.frames[t+S.R]=r,this.frames[t+S.G]=n,this.frames[t+S.B]=a,this.frames[t+S.A]=i,this.frames[t+S.R2]=o,this.frames[t+S.G2]=s,this.frames[t+S.B2]=l},S.prototype.apply=function(t,e,r,n,a,i,o){var s=t.slots[this.slotIndex];if(s.bone.active){var l=this.frames;if(r<l[0])switch(i){case Y.setup:return s.color.setFromColor(s.data.color),void s.darkColor.setFromColor(s.data.darkColor);case Y.first:var h=s.color,c=s.darkColor,u=s.data.color,d=s.data.darkColor;h.add((u.r-h.r)*a,(u.g-h.g)*a,(u.b-h.b)*a,(u.a-h.a)*a),c.add((d.r-c.r)*a,(d.g-c.g)*a,(d.b-c.b)*a,0)}else{var p,f,m,g,v=0,y=0,x=0,M=0,w=0,b=0,E=0;r>=l[l.length-S.ENTRIES]?(v=l[(p=l.length)+S.PREV_R],y=l[p+S.PREV_G],x=l[p+S.PREV_B],M=l[p+S.PREV_A],w=l[p+S.PREV_R2],b=l[p+S.PREV_G2],E=l[p+S.PREV_B2]):(v=l[(f=W.binarySearch(l,r,S.ENTRIES))+S.PREV_R],y=l[f+S.PREV_G],x=l[f+S.PREV_B],M=l[f+S.PREV_A],w=l[f+S.PREV_R2],b=l[f+S.PREV_G2],E=l[f+S.PREV_B2],m=l[f],g=this.getCurvePercent(f/S.ENTRIES-1,1-(r-m)/(l[f+S.PREV_TIME]-m)),v+=(l[f+S.R]-v)*g,y+=(l[f+S.G]-y)*g,x+=(l[f+S.B]-x)*g,M+=(l[f+S.A]-M)*g,w+=(l[f+S.R2]-w)*g,b+=(l[f+S.G2]-b)*g,E+=(l[f+S.B2]-E)*g),1==a?(s.color.set(v,y,x,M),s.darkColor.set(w,b,E,1)):(h=s.color,c=s.darkColor,i==Y.setup&&(h.setFromColor(s.data.color),c.setFromColor(s.data.darkColor)),h.add((v-h.r)*a,(y-h.g)*a,(x-h.b)*a,(M-h.a)*a),c.add((w-c.r)*a,(b-c.g)*a,(E-c.b)*a,0))}}},S.ENTRIES=8,S.PREV_TIME=-8,S.PREV_R=-7,S.PREV_G=-6,S.PREV_B=-5,S.PREV_A=-4,S.PREV_R2=-3,S.PREV_G2=-2,S.PREV_B2=-1,S.R=1,S.G=2,S.B=3,S.A=4,S.R2=5,S.G2=6,S.B2=7,S);function S(t){var e=E.call(this,t)||this;return e.frames=B.Utils.newFloatArray(t*S.ENTRIES),e}B.TwoColorTimeline=T;var I=(A.prototype.getPropertyId=function(){return(r.attachment<<24)+this.slotIndex},A.prototype.getFrameCount=function(){return this.frames.length},A.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.attachmentNames[t]=r},A.prototype.apply=function(t,e,r,n,a,i,o){var s,l,h,c,u,d=t.slots[this.slotIndex];d.bone.active&&(o!=g.mixOut||i!=Y.setup?r<(s=this.frames)[0]?i!=Y.setup&&i!=Y.first||(l=d.data.attachmentName,d.setAttachment(null==l?null:t.getAttachment(this.slotIndex,l))):(h=0,h=r>=s[s.length-1]?s.length-1:W.binarySearch(s,r,1)-1,c=this.attachmentNames[h],t.slots[this.slotIndex].setAttachment(null==c?null:t.getAttachment(this.slotIndex,c))):(u=d.data.attachmentName,d.setAttachment(null==u?null:t.getAttachment(this.slotIndex,u))))},A);function A(t){this.frames=B.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}B.AttachmentTimeline=I;var R,C=null,P=(re(k,R=i),k.prototype.getPropertyId=function(){return(r.deform<<27)+ +this.attachment.id+this.slotIndex},k.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.frameVertices[t]=r},k.prototype.apply=function(t,e,r,n,a,i,o){var s=t.slots[this.slotIndex];if(s.bone.active){var l=s.getAttachment();if(l instanceof B.VertexAttachment&&l.deformAttachment==this.attachment){var h=s.deform;0==h.length&&(i=Y.setup);var c=this.frameVertices,u=c[0].length,d=this.frames;if(r<d[0]){var p=l;switch(i){case Y.setup:return void(h.length=0);case Y.first:if(1==a){h.length=0;break}var f=B.Utils.setArraySize(h,u);if(null==p.bones)for(var m=p.vertices,g=0;g<u;g++)f[g]+=(m[g]-f[g])*a;else for(a=1-a,g=0;g<u;g++)f[g]*=a}}else{var v=B.Utils.setArraySize(h,u);if(r>=d[d.length-1]){var y=c[d.length-1];if(1==a)if(i==Y.add)if(null==(p=l).bones)for(var m=p.vertices,x=0;x<u;x++)v[x]+=y[x]-m[x];else for(var M=0;M<u;M++)v[M]+=y[M];else B.Utils.arrayCopy(y,0,v,0,u);else switch(i){case Y.setup:if(null==l.bones)for(var m=l.vertices,w=0;w<u;w++){var b=m[w];v[w]=b+(y[w]-b)*a}else for(var E=0;E<u;E++)v[E]=y[E]*a;break;case Y.first:case Y.replace:for(var T=0;T<u;T++)v[T]+=(y[T]-v[T])*a;break;case Y.add:if(null==(p=l).bones)for(var m=p.vertices,S=0;S<u;S++)v[S]+=(y[S]-m[S])*a;else for(var I=0;I<u;I++)v[I]+=y[I]*a}}else{var A=W.binarySearch(d,r),R=c[A-1],C=c[A],P=d[A],k=this.getCurvePercent(A-1,1-(r-P)/(d[A-1]-P));if(1==a)if(i==Y.add)if(null==(p=l).bones)for(var m=p.vertices,V=0;V<u;V++){var N=R[V];v[V]+=N+(C[V]-N)*k-m[V]}else for(var F=0;F<u;F++)N=R[F],v[F]+=N+(C[F]-N)*k;else for(var O=0;O<u;O++)N=R[O],v[O]=N+(C[O]-N)*k;else switch(i){case Y.setup:if(null==l.bones)for(var m=l.vertices,_=0;_<u;_++)N=R[_],b=m[_],v[_]=b+(N+(C[_]-N)*k-b)*a;else for(var D=0;D<u;D++)N=R[D],v[D]=(N+(C[D]-N)*k)*a;break;case Y.first:case Y.replace:for(var X=0;X<u;X++)N=R[X],v[X]+=(N+(C[X]-N)*k-v[X])*a;break;case Y.add:if(null==(p=l).bones)for(var m=p.vertices,U=0;U<u;U++)N=R[U],v[U]+=(N+(C[U]-N)*k-m[U])*a;else for(var L=0;L<u;L++)N=R[L],v[L]+=(N+(C[L]-N)*k)*a}}}}}},k);function k(t){var e=R.call(this,t)||this;return e.frames=B.Utils.newFloatArray(t),e.frameVertices=new Array(t),null==C&&(C=B.Utils.newFloatArray(64)),e}B.DeformTimeline=P;var V=(N.prototype.getPropertyId=function(){return r.event<<24},N.prototype.getFrameCount=function(){return this.frames.length},N.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},N.prototype.apply=function(t,e,r,n,a,i,o){if(null!=n){var s=this.frames,l=this.frames.length;if(r<e)this.apply(t,e,Number.MAX_VALUE,n,a,i,o),e=-1;else if(e>=s[l-1])return;if(!(r<s[0])){var h=0;if(e<s[0])h=0;else for(var c=s[h=W.binarySearch(s,e)];0<h&&s[h-1]==c;)h--;for(;h<l&&r>=s[h];h++)n.push(this.events[h])}}},N);function N(t){this.frames=B.Utils.newFloatArray(t),this.events=new Array(t)}B.EventTimeline=V;var F=(O.prototype.getPropertyId=function(){return r.drawOrder<<24},O.prototype.getFrameCount=function(){return this.frames.length},O.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.drawOrders[t]=r},O.prototype.apply=function(t,e,r,n,a,i,o){var s=t.drawOrder,l=t.slots;if(o!=g.mixOut||i!=Y.setup){var h=this.frames;if(r<h[0])i!=Y.setup&&i!=Y.first||B.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var c=0,c=r>=h[h.length-1]?h.length-1:W.binarySearch(h,r)-1,u=this.drawOrders[c];if(null==u)B.Utils.arrayCopy(l,0,s,0,l.length);else for(var d=0,p=u.length;d<p;d++)s[d]=l[u[d]]}}else B.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},O);function O(t){this.frames=B.Utils.newFloatArray(t),this.drawOrders=new Array(t)}B.DrawOrderTimeline=F;var _,D=(re(X,_=i),X.prototype.getPropertyId=function(){return(r.ikConstraint<<24)+this.ikConstraintIndex},X.prototype.setFrame=function(t,e,r,n,a,i,o){t*=X.ENTRIES,this.frames[t]=e,this.frames[t+X.MIX]=r,this.frames[t+X.SOFTNESS]=n,this.frames[t+X.BEND_DIRECTION]=a,this.frames[t+X.COMPRESS]=i?1:0,this.frames[t+X.STRETCH]=o?1:0},X.prototype.apply=function(t,e,r,n,a,i,o){var s,l,h,c,u,d=this.frames,p=t.ikConstraints[this.ikConstraintIndex];if(p.active)if(r<d[0])switch(i){case Y.setup:return p.mix=p.data.mix,p.softness=p.data.softness,p.bendDirection=p.data.bendDirection,p.compress=p.data.compress,void(p.stretch=p.data.stretch);case Y.first:p.mix+=(p.data.mix-p.mix)*a,p.softness+=(p.data.softness-p.softness)*a,p.bendDirection=p.data.bendDirection,p.compress=p.data.compress,p.stretch=p.data.stretch}else r>=d[d.length-X.ENTRIES]?i==Y.setup?(p.mix=p.data.mix+(d[d.length+X.PREV_MIX]-p.data.mix)*a,p.softness=p.data.softness+(d[d.length+X.PREV_SOFTNESS]-p.data.softness)*a,o==g.mixOut?(p.bendDirection=p.data.bendDirection,p.compress=p.data.compress,p.stretch=p.data.stretch):(p.bendDirection=d[d.length+X.PREV_BEND_DIRECTION],p.compress=0!=d[d.length+X.PREV_COMPRESS],p.stretch=0!=d[d.length+X.PREV_STRETCH])):(p.mix+=(d[d.length+X.PREV_MIX]-p.mix)*a,p.softness+=(d[d.length+X.PREV_SOFTNESS]-p.softness)*a,o==g.mixIn&&(p.bendDirection=d[d.length+X.PREV_BEND_DIRECTION],p.compress=0!=d[d.length+X.PREV_COMPRESS],p.stretch=0!=d[d.length+X.PREV_STRETCH])):(l=d[(s=W.binarySearch(d,r,X.ENTRIES))+X.PREV_MIX],h=d[s+X.PREV_SOFTNESS],c=d[s],u=this.getCurvePercent(s/X.ENTRIES-1,1-(r-c)/(d[s+X.PREV_TIME]-c)),i==Y.setup?(p.mix=p.data.mix+(l+(d[s+X.MIX]-l)*u-p.data.mix)*a,p.softness=p.data.softness+(h+(d[s+X.SOFTNESS]-h)*u-p.data.softness)*a,o==g.mixOut?(p.bendDirection=p.data.bendDirection,p.compress=p.data.compress,p.stretch=p.data.stretch):(p.bendDirection=d[s+X.PREV_BEND_DIRECTION],p.compress=0!=d[s+X.PREV_COMPRESS],p.stretch=0!=d[s+X.PREV_STRETCH])):(p.mix+=(l+(d[s+X.MIX]-l)*u-p.mix)*a,p.softness+=(h+(d[s+X.SOFTNESS]-h)*u-p.softness)*a,o==g.mixIn&&(p.bendDirection=d[s+X.PREV_BEND_DIRECTION],p.compress=0!=d[s+X.PREV_COMPRESS],p.stretch=0!=d[s+X.PREV_STRETCH])))},X.ENTRIES=6,X.PREV_TIME=-6,X.PREV_MIX=-5,X.PREV_SOFTNESS=-4,X.PREV_BEND_DIRECTION=-3,X.PREV_COMPRESS=-2,X.PREV_STRETCH=-1,X.MIX=1,X.SOFTNESS=2,X.BEND_DIRECTION=3,X.COMPRESS=4,X.STRETCH=5,X);function X(t){var e=_.call(this,t)||this;return e.frames=B.Utils.newFloatArray(t*X.ENTRIES),e}B.IkConstraintTimeline=D;var U,L=(re(q,U=i),q.prototype.getPropertyId=function(){return(r.transformConstraint<<24)+this.transformConstraintIndex},q.prototype.setFrame=function(t,e,r,n,a,i){t*=q.ENTRIES,this.frames[t]=e,this.frames[t+q.ROTATE]=r,this.frames[t+q.TRANSLATE]=n,this.frames[t+q.SCALE]=a,this.frames[t+q.SHEAR]=i},q.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.transformConstraints[this.transformConstraintIndex];if(l.active)if(r<s[0]){var h=l.data;switch(i){case Y.setup:return l.rotateMix=h.rotateMix,l.translateMix=h.translateMix,l.scaleMix=h.scaleMix,void(l.shearMix=h.shearMix);case Y.first:l.rotateMix+=(h.rotateMix-l.rotateMix)*a,l.translateMix+=(h.translateMix-l.translateMix)*a,l.scaleMix+=(h.scaleMix-l.scaleMix)*a,l.shearMix+=(h.shearMix-l.shearMix)*a}}else{var c,u,d,p,f=0,m=0,g=0,v=0;r>=s[s.length-q.ENTRIES]?(f=s[(c=s.length)+q.PREV_ROTATE],m=s[c+q.PREV_TRANSLATE],g=s[c+q.PREV_SCALE],v=s[c+q.PREV_SHEAR]):(f=s[(u=W.binarySearch(s,r,q.ENTRIES))+q.PREV_ROTATE],m=s[u+q.PREV_TRANSLATE],g=s[u+q.PREV_SCALE],v=s[u+q.PREV_SHEAR],d=s[u],p=this.getCurvePercent(u/q.ENTRIES-1,1-(r-d)/(s[u+q.PREV_TIME]-d)),f+=(s[u+q.ROTATE]-f)*p,m+=(s[u+q.TRANSLATE]-m)*p,g+=(s[u+q.SCALE]-g)*p,v+=(s[u+q.SHEAR]-v)*p),i==Y.setup?(h=l.data,l.rotateMix=h.rotateMix+(f-h.rotateMix)*a,l.translateMix=h.translateMix+(m-h.translateMix)*a,l.scaleMix=h.scaleMix+(g-h.scaleMix)*a,l.shearMix=h.shearMix+(v-h.shearMix)*a):(l.rotateMix+=(f-l.rotateMix)*a,l.translateMix+=(m-l.translateMix)*a,l.scaleMix+=(g-l.scaleMix)*a,l.shearMix+=(v-l.shearMix)*a)}},q.ENTRIES=5,q.PREV_TIME=-5,q.PREV_ROTATE=-4,q.PREV_TRANSLATE=-3,q.PREV_SCALE=-2,q.PREV_SHEAR=-1,q.ROTATE=1,q.TRANSLATE=2,q.SCALE=3,q.SHEAR=4,q);function q(t){var e=U.call(this,t)||this;return e.frames=B.Utils.newFloatArray(t*q.ENTRIES),e}B.TransformConstraintTimeline=L;var j,G=(re(H,j=i),H.prototype.getPropertyId=function(){return(r.pathConstraintPosition<<24)+this.pathConstraintIndex},H.prototype.setFrame=function(t,e,r){t*=H.ENTRIES,this.frames[t]=e,this.frames[t+H.VALUE]=r},H.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(r<s[0])switch(i){case Y.setup:return void(l.position=l.data.position);case Y.first:l.position+=(l.data.position-l.position)*a}else{var h,c,u,d=0;r>=s[s.length-H.ENTRIES]?d=s[s.length+H.PREV_VALUE]:(d=s[(h=W.binarySearch(s,r,H.ENTRIES))+H.PREV_VALUE],c=s[h],u=this.getCurvePercent(h/H.ENTRIES-1,1-(r-c)/(s[h+H.PREV_TIME]-c)),d+=(s[h+H.VALUE]-d)*u),i==Y.setup?l.position=l.data.position+(d-l.data.position)*a:l.position+=(d-l.position)*a}},H.ENTRIES=2,H.PREV_TIME=-2,H.PREV_VALUE=-1,H.VALUE=1,H);function H(t){var e=j.call(this,t)||this;return e.frames=B.Utils.newFloatArray(t*H.ENTRIES),e}B.PathConstraintPositionTimeline=G;var z,Z=(re(J,z=G),J.prototype.getPropertyId=function(){return(r.pathConstraintSpacing<<24)+this.pathConstraintIndex},J.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(r<s[0])switch(i){case Y.setup:return void(l.spacing=l.data.spacing);case Y.first:l.spacing+=(l.data.spacing-l.spacing)*a}else{var h,c,u,d=0;r>=s[s.length-J.ENTRIES]?d=s[s.length+J.PREV_VALUE]:(d=s[(h=W.binarySearch(s,r,J.ENTRIES))+J.PREV_VALUE],c=s[h],u=this.getCurvePercent(h/J.ENTRIES-1,1-(r-c)/(s[h+J.PREV_TIME]-c)),d+=(s[h+J.VALUE]-d)*u),i==Y.setup?l.spacing=l.data.spacing+(d-l.data.spacing)*a:l.spacing+=(d-l.spacing)*a}},J);function J(t){return z.call(this,t)||this}B.PathConstraintSpacingTimeline=Z;var K,Q=(re($,K=i),$.prototype.getPropertyId=function(){return(r.pathConstraintMix<<24)+this.pathConstraintIndex},$.prototype.setFrame=function(t,e,r,n){t*=$.ENTRIES,this.frames[t]=e,this.frames[t+$.ROTATE]=r,this.frames[t+$.TRANSLATE]=n},$.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(r<s[0])switch(i){case Y.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case Y.first:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*a,l.translateMix+=(l.data.translateMix-l.translateMix)*a}else{var h,c,u,d=0,p=0;r>=s[s.length-$.ENTRIES]?(d=s[s.length+$.PREV_ROTATE],p=s[s.length+$.PREV_TRANSLATE]):(d=s[(h=W.binarySearch(s,r,$.ENTRIES))+$.PREV_ROTATE],p=s[h+$.PREV_TRANSLATE],c=s[h],u=this.getCurvePercent(h/$.ENTRIES-1,1-(r-c)/(s[h+$.PREV_TIME]-c)),d+=(s[h+$.ROTATE]-d)*u,p+=(s[h+$.TRANSLATE]-p)*u),i==Y.setup?(l.rotateMix=l.data.rotateMix+(d-l.data.rotateMix)*a,l.translateMix=l.data.translateMix+(p-l.data.translateMix)*a):(l.rotateMix+=(d-l.rotateMix)*a,l.translateMix+=(p-l.translateMix)*a)}},$.ENTRIES=3,$.PREV_TIME=-3,$.PREV_ROTATE=-2,$.PREV_TRANSLATE=-1,$.ROTATE=1,$.TRANSLATE=2,$);function $(t){var e=K.call(this,t)||this;return e.frames=B.Utils.newFloatArray(t*$.ENTRIES),e}B.PathConstraintMixTimeline=Q})((r=ee=ee||{}).core||(r.core={})),function(T){var t=(S.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,r=0,n=e.length;r<n;r++){var a=e[r];if(null!=a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var i=t*a.timeScale;if(0<a.delay){if(a.delay-=i,0<a.delay)continue;i=-a.delay,a.delay=0}var o=a.next;if(null!=o){var s=a.trackLast-o.delay;if(0<=s){for(o.delay=0,o.trackTime+=0==a.timeScale?0:(s/a.timeScale+t)*o.timeScale,a.trackTime+=i,this.setCurrent(r,o,!0);null!=o.mixingFrom;)o.mixTime+=t,o=o.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&null==a.mixingFrom){e[r]=null,this.queue.end(a),this.disposeNext(a);continue}if(null!=a.mixingFrom&&this.updateMixingFrom(a,t)){var l=a.mixingFrom;for((a.mixingFrom=null)!=l&&(l.mixingTo=null);null!=l;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=i}}this.queue.drain()},S.prototype.updateMixingFrom=function(t,e){var r=t.mixingFrom;if(null==r)return!0;var n=this.updateMixingFrom(r,e);return r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,0<t.mixTime&&t.mixTime>=t.mixDuration?(0!=r.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=r.mixingFrom,null!=r.mixingFrom&&(r.mixingFrom.mixingTo=t),t.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=e*r.timeScale,t.mixTime+=e,!1)},S.prototype.apply=function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,r=this.tracks,n=!1,a=0,i=r.length;a<i;a++){var o=r[a];if(!(null==o||0<o.delay)){n=!0;var s=0==a?T.MixBlend.first:o.mixBlend,l=o.alpha;null!=o.mixingFrom?l*=this.applyMixingFrom(o,t,s):o.trackTime>=o.trackEnd&&null==o.next&&(l=0);var h=o.animationLast,c=o.getAnimationTime(),u=o.animation.timelines.length,d=o.animation.timelines;if(0==a&&1==l||s==T.MixBlend.add)for(var p=0;p<u;p++)T.Utils.webkit602BugfixHelper(l,s),d[p].apply(t,h,c,e,l,s,T.MixDirection.mixIn);else{var f=o.timelineMode,m=0==o.timelinesRotation.length;m&&T.Utils.setArraySize(o.timelinesRotation,u<<1,null);for(var g=o.timelinesRotation,p=0;p<u;p++){var v=d[p],y=(f[p]&S.NOT_LAST-1)==S.SUBSEQUENT?s:T.MixBlend.setup;v instanceof T.RotateTimeline?this.applyRotateTimeline(v,t,c,l,y,g,p<<1,m):(T.Utils.webkit602BugfixHelper(l,s),v.apply(t,h,c,e,l,y,T.MixDirection.mixIn))}}this.queueEvents(o,c),e.length=0,o.nextAnimationLast=c,o.nextTrackLast=o.trackTime}}return this.queue.drain(),n},S.prototype.applyMixingFrom=function(t,e,r){var n=t.mixingFrom;null!=n.mixingFrom&&this.applyMixingFrom(n,e,r);var a=0;0==t.mixDuration?(a=1,r==T.MixBlend.first&&(r=T.MixBlend.setup)):(1<(a=t.mixTime/t.mixDuration)&&(a=1),r!=T.MixBlend.first&&(r=n.mixBlend));var i=a<n.eventThreshold?this.events:null,o=a<n.attachmentThreshold,s=a<n.drawOrderThreshold,l=n.animationLast,h=n.getAnimationTime(),c=n.animation.timelines.length,u=n.animation.timelines,d=n.alpha*t.interruptAlpha,p=d*(1-a);if(r==T.MixBlend.add)for(var f=0;f<c;f++)u[f].apply(e,l,h,i,p,r,T.MixDirection.mixOut);else{var m=n.timelineMode,g=n.timelineHoldMix,v=0==n.timelinesRotation.length;v&&T.Utils.setArraySize(n.timelinesRotation,c<<1,null);for(var y=n.timelinesRotation,f=n.totalAlpha=0;f<c;f++){var x=u[f],M=T.MixDirection.mixOut,w=void 0,b=0;switch(m[f]&S.NOT_LAST-1){case S.SUBSEQUENT:if(w=r,!o&&x instanceof T.AttachmentTimeline){if((m[f]&S.NOT_LAST)==S.NOT_LAST)continue;w=T.MixBlend.setup}if(!s&&x instanceof T.DrawOrderTimeline)continue;b=p;break;case S.FIRST:w=T.MixBlend.setup,b=p;break;case S.HOLD:w=T.MixBlend.setup,b=d;break;default:w=T.MixBlend.setup;var E=g[f],b=d*Math.max(0,1-E.mixTime/E.mixDuration)}n.totalAlpha+=b,x instanceof T.RotateTimeline?this.applyRotateTimeline(x,e,h,b,w,y,f<<1,v):(T.Utils.webkit602BugfixHelper(b,r),w==T.MixBlend.setup&&(x instanceof T.AttachmentTimeline?!o&&(m[f]&S.NOT_LAST)!=S.NOT_LAST||(M=T.MixDirection.mixIn):x instanceof T.DrawOrderTimeline&&s&&(M=T.MixDirection.mixIn)),x.apply(e,l,h,i,b,w,M))}}return 0<t.mixDuration&&this.queueEvents(n,h),this.events.length=0,n.nextAnimationLast=h,n.nextTrackLast=n.trackTime,a},S.prototype.applyRotateTimeline=function(t,e,r,n,a,i,o,s){if(s&&(i[o]=0),1!=n){var l=t,h=l.frames,c=e.bones[l.boneIndex];if(c.active){var u=0,d=0;if(r<h[0])switch(a){case T.MixBlend.setup:c.rotation=c.data.rotation;default:return;case T.MixBlend.first:u=c.rotation,d=c.data.rotation}else{var p,f,m,g,u=a==T.MixBlend.setup?c.data.rotation:c.rotation;r>=h[h.length-T.RotateTimeline.ENTRIES]?d=c.data.rotation+h[h.length+T.RotateTimeline.PREV_ROTATION]:(f=h[(p=T.Animation.binarySearch(h,r,T.RotateTimeline.ENTRIES))+T.RotateTimeline.PREV_ROTATION],m=h[p],g=l.getCurvePercent((p>>1)-1,1-(r-m)/(h[p+T.RotateTimeline.PREV_TIME]-m)),d=h[p+T.RotateTimeline.ROTATION]-f,d=f+(d-=360*(16384-(16384.499999999996-d/360|0)))*g+c.data.rotation,d-=360*(16384-(16384.499999999996-d/360|0)))}var v,y,x,M,w=0,b=d-u;0==(b-=360*(16384-(16384.499999999996-b/360|0)))?w=i[o]:(y=v=0,y=s?(v=0,b):(v=i[o],i[o+1]),x=0<b,M=0<=v,T.MathUtils.signum(y)!=T.MathUtils.signum(b)&&Math.abs(y)<=90&&(180<Math.abs(v)&&(v+=360*T.MathUtils.signum(v)),M=x),w=b+v-v%360,M!=x&&(w+=360*T.MathUtils.signum(v)),i[o]=w),i[o+1]=b,u+=w*n,c.rotation=u-360*(16384-(16384.499999999996-u/360|0))}}else t.apply(e,0,r,null,1,a,T.MixDirection.mixIn)},S.prototype.queueEvents=function(t,e){for(var r=t.animationStart,n=t.animationEnd,a=n-r,i=t.trackLast%a,o=this.events,s=0,l=o.length;s<l;s++){var h=o[s];if(h.time<i)break;h.time>n||this.queue.event(t,h)}for((t.loop?0==a||i>t.trackTime%a:n<=e&&t.animationLast<n)&&this.queue.complete(t);s<l;s++)o[s].time<r||this.queue.event(t,o[s])},S.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,r=this.tracks.length;e<r;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},S.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var r=e;;){var n=r.mixingFrom;if(null==n)break;this.queue.end(n),r.mixingFrom=null,r.mixingTo=null,r=n}this.tracks[e.trackIndex]=null,this.queue.drain()}}},S.prototype.setCurrent=function(t,e,r){var n=this.expandToIndex(t);this.tracks[t]=e,null!=n&&(r&&this.queue.interrupt(n),((e.mixingFrom=n).mixingTo=e).mixTime=0,null!=n.mixingFrom&&0<n.mixDuration&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)},S.prototype.setAnimation=function(t,e,r){var n=this.data.skeletonData.findAnimation(e);if(null==n)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,n,r)},S.prototype.setAnimationWith=function(t,e,r){if(null==e)throw new Error("animation cannot be null.");var n=!0,a=this.expandToIndex(t);null!=a&&(-1==a.nextTrackLast?(this.tracks[t]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,n=!1):this.disposeNext(a));var i=this.trackEntry(t,e,r,a);return this.setCurrent(t,i,n),this.queue.drain(),i},S.prototype.addAnimation=function(t,e,r,n){var a=this.data.skeletonData.findAnimation(e);if(null==a)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,a,r,n)},S.prototype.addAnimationWith=function(t,e,r,n){if(null==e)throw new Error("animation cannot be null.");var a=this.expandToIndex(t);if(null!=a)for(;null!=a.next;)a=a.next;var i,o=this.trackEntry(t,e,r,a);return null==a?(this.setCurrent(t,o,!0),this.queue.drain()):(a.next=o,n<=0&&(0!=(i=a.animationEnd-a.animationStart)?(a.loop?n+=i*(1+(a.trackTime/i|0)):n+=Math.max(i,a.trackTime),n-=this.data.getMix(a.animation,e)):n=a.trackTime)),o.delay=n,o},S.prototype.setEmptyAnimation=function(t,e){var r=this.setAnimationWith(t,S.emptyAnimation,!1);return r.mixDuration=e,r.trackEnd=e,r},S.prototype.addEmptyAnimation=function(t,e,r){r<=0&&(r-=e);var n=this.addAnimationWith(t,S.emptyAnimation,!1,r);return n.mixDuration=e,n.trackEnd=e,n},S.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++){var a=this.tracks[r];null!=a&&this.setEmptyAnimation(a.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},S.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(T.Utils.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)},S.prototype.trackEntry=function(t,e,r,n){var a=this.trackEntryPool.obtain();return a.trackIndex=t,a.animation=e,a.loop=r,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=e.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=null==n?0:this.data.getMix(n.animation,e),a.mixBlend=T.MixBlend.replace,a},S.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},S.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++)if(null!=(r=this.tracks[t])){for(;null!=r.mixingFrom;)r=r.mixingFrom;for(;null!=r.mixingFrom&&r.mixBlend==T.MixBlend.add||this.computeHold(r),null!=(r=r.mixingTo););}for(this.propertyIDs.clear(),t=this.tracks.length-1;0<=t;t--)for(var r=this.tracks[t];null!=r;)this.computeNotLast(r),r=r.mixingFrom},S.prototype.computeHold=function(t){var e=t.mixingTo,r=t.animation.timelines,n=t.animation.timelines.length,a=T.Utils.setArraySize(t.timelineMode,n);t.timelineHoldMix.length=0;var i=T.Utils.setArraySize(t.timelineHoldMix,n),o=this.propertyIDs;if(null!=e&&e.holdPrevious)for(var s=0;s<n;s++)o.add(r[s].getPropertyId()),a[s]=S.HOLD;else t:for(s=0;s<n;s++){var l=r[s],h=l.getPropertyId();if(o.add(h))if(null==e||l instanceof T.AttachmentTimeline||l instanceof T.DrawOrderTimeline||l instanceof T.EventTimeline||!e.animation.hasTimeline(h))a[s]=S.FIRST;else{for(var c=e.mixingTo;null!=c;c=c.mixingTo)if(!c.animation.hasTimeline(h)){if(0<t.mixDuration){a[s]=S.HOLD_MIX,i[s]=c;continue t}break}a[s]=S.HOLD}else a[s]=S.SUBSEQUENT}},S.prototype.computeNotLast=function(t){for(var e,r=t.animation.timelines,n=t.animation.timelines.length,a=t.timelineMode,i=this.propertyIDs,o=0;o<n;o++)r[o]instanceof T.AttachmentTimeline&&(e=r[o],i.add(e.slotIndex)||(a[o]|=S.NOT_LAST))},S.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},S.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},S.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);0<=e&&this.listeners.splice(e,1)},S.prototype.clearListeners=function(){this.listeners.length=0},S.prototype.clearListenerNotifications=function(){this.queue.clear()},S.prototype.setAnimationByName=function(t,e,r){S.deprecatedWarning1||(S.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,e,r)},S.prototype.addAnimationByName=function(t,e,r,n){S.deprecatedWarning2||(S.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,e,r,n)},S.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},S.prototype.hasAnimationByName=function(t){return S.deprecatedWarning3||(S.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)},S.emptyAnimation=new T.Animation("<empty>",[],0),S.SUBSEQUENT=0,S.FIRST=1,S.HOLD=2,S.HOLD_MIX=3,S.NOT_LAST=4,S.deprecatedWarning1=!1,S.deprecatedWarning2=!1,S.deprecatedWarning3=!1,S);function S(t){this.tracks=new Array,this.timeScale=1,this.events=new Array,this.listeners=new Array,this.queue=new a(this),this.propertyIDs=new T.IntSet,this.animationsChanged=!1,this.trackEntryPool=new T.Pool(function(){return new e}),this.data=t}T.AnimationState=t;var e=(r.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},r.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},r.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},r.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},r.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(r.prototype,"time",{get:function(){return r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"endTime",{get:function(){return r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t},enumerable:!1,configurable:!0}),r.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},r.deprecatedWarning1=!1,r.deprecatedWarning2=!1,r);function r(){this.mixBlend=T.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}T.TrackEntry=e;var l,n,a=(i.prototype.start=function(t){this.objects.push(l.start),this.objects.push(t),this.animState.animationsChanged=!0},i.prototype.interrupt=function(t){this.objects.push(l.interrupt),this.objects.push(t)},i.prototype.end=function(t){this.objects.push(l.end),this.objects.push(t),this.animState.animationsChanged=!0},i.prototype.dispose=function(t){this.objects.push(l.dispose),this.objects.push(t)},i.prototype.complete=function(t){this.objects.push(l.complete),this.objects.push(t)},i.prototype.event=function(t,e){this.objects.push(l.event),this.objects.push(t),this.objects.push(e)},i.prototype.deprecateStuff=function(){return i.deprecatedWarning1||(i.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},i.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];switch(n){case l.start:null!=a.listener&&a.listener.start&&a.listener.start(a);for(var i=0;i<e.length;i++)e[i].start&&e[i].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case l.interrupt:for(null!=a.listener&&a.listener.interrupt&&a.listener.interrupt(a),i=0;i<e.length;i++)e[i].interrupt&&e[i].interrupt(a);break;case l.end:for(null!=a.listener&&a.listener.end&&a.listener.end(a),i=0;i<e.length;i++)e[i].end&&e[i].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case l.dispose:for(null!=a.listener&&a.listener.dispose&&a.listener.dispose(a),i=0;i<e.length;i++)e[i].dispose&&e[i].dispose(a);this.animState.trackEntryPool.free(a);break;case l.complete:for(null!=a.listener&&a.listener.complete&&a.listener.complete(a),i=0;i<e.length;i++)e[i].complete&&e[i].complete(a);var o=T.MathUtils.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,o),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,o);break;case l.event:var s=t[2+r++];for(null!=a.listener&&a.listener.event&&a.listener.event(a,s),i=0;i<e.length;i++)e[i].event&&e[i].event(a,s);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,s),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,s)}}this.clear(),this.drainDisabled=!1}},i.prototype.clear=function(){this.objects.length=0},i.deprecatedWarning1=!1,i);function i(t){this.objects=[],this.drainDisabled=!1,this.animState=t}T.EventQueue=a,(n=l=T.EventType||(T.EventType={}))[n.start=0]="start",n[n.interrupt=1]="interrupt",n[n.end=2]="end",n[n.dispose=3]="dispose",n[n.complete=4]="complete",n[n.event=5]="event";var o=(s.prototype.start=function(t){},s.prototype.interrupt=function(t){},s.prototype.end=function(t){},s.prototype.dispose=function(t){},s.prototype.complete=function(t){},s.prototype.event=function(t,e){},s);function s(){}T.AnimationStateAdapter=o}((a=ee=ee||{}).core||(a.core={})),i=ee=ee||{},o=i.core||(i.core={}),ne.prototype.setMix=function(t,e,r){var n=this.skeletonData.findAnimation(t);if(null==n)throw new Error("Animation not found: "+t);var a=this.skeletonData.findAnimation(e);if(null==a)throw new Error("Animation not found: "+e);this.setMixWith(n,a,r)},ne.prototype.setMixByName=function(t,e,r){ne.deprecatedWarning1||(ne.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(t,e,r)},ne.prototype.setMixWith=function(t,e,r){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var n=t.name+"."+e.name;this.animationToMixTime[n]=r},ne.prototype.getMix=function(t,e){var r=t.name+"."+e.name,n=this.animationToMixTime[r];return void 0===n?this.defaultMix:n},ne.deprecatedWarning1=!1,s=ne,o.AnimationStateData=s,l=ee=ee||{},h=l.core||(l.core={}),ae.prototype.newRegionAttachment=function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: "+r+" (region attachment: "+e+")");var a=new h.RegionAttachment(e);return a.region=n,a},ae.prototype.newMeshAttachment=function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: "+r+" (mesh attachment: "+e+")");var a=new h.MeshAttachment(e);return a.region=n,a},ae.prototype.newBoundingBoxAttachment=function(t,e){return new h.BoundingBoxAttachment(e)},ae.prototype.newPathAttachment=function(t,e){return new h.PathAttachment(e)},ae.prototype.newPointAttachment=function(t,e){return new h.PointAttachment(e)},ae.prototype.newClippingAttachment=function(t,e){return new h.ClippingAttachment(e)},c=ae,h.AtlasAttachmentLoader=c,u=ee=ee||{},d=u.core||(u.core={}),(p=d.BlendMode||(d.BlendMode={}))[p.Normal=0]="Normal",p[p.Additive=1]="Additive",p[p.Multiply=2]="Multiply",p[p.Screen=3]="Screen",f=ee=ee||{},V=f.core||(f.core={}),Object.defineProperty(ie.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),ie.prototype.isActive=function(){return this.active},ie.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},ie.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},ie.prototype.updateWorldTransformWith=function(t,e,r,n,a,i,o){this.ax=t,this.ay=e,this.arotation=r,this.ascaleX=n,this.ascaleY=a,this.ashearX=i,this.ashearY=o,this.appliedValid=!0;var s=this.parent,l=this.matrix,h=this.skeleton.scaleX,c=ie.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==s){var u=this.skeleton,d=r+90+o;return l.a=V.MathUtils.cosDeg(r+i)*n*h,l.c=V.MathUtils.cosDeg(d)*a*h,l.b=V.MathUtils.sinDeg(r+i)*n*c,l.d=V.MathUtils.sinDeg(d)*a*c,l.tx=t*h+u.x,void(l.ty=e*c+u.y)}var p=s.matrix.a,f=s.matrix.c,m=s.matrix.b,g=s.matrix.d;switch(l.tx=p*t+f*e+s.matrix.tx,l.ty=m*t+g*e+s.matrix.ty,this.data.transformMode){case V.TransformMode.Normal:var d=r+90+o,v=V.MathUtils.cosDeg(r+i)*n,y=V.MathUtils.cosDeg(d)*a,x=V.MathUtils.sinDeg(r+i)*n,M=V.MathUtils.sinDeg(d)*a;return l.a=p*v+f*x,l.c=p*y+f*M,l.b=m*v+g*x,void(l.d=m*y+g*M);case V.TransformMode.OnlyTranslation:d=r+90+o,l.a=V.MathUtils.cosDeg(r+i)*n,l.c=V.MathUtils.cosDeg(d)*a,l.b=V.MathUtils.sinDeg(r+i)*n,l.d=V.MathUtils.sinDeg(d)*a;break;case V.TransformMode.NoRotationOrReflection:var w=0,b=r+i-(w=1e-4<(T=p*p+m*m)?(f=m*(T=Math.abs(p*g-f*m)/T),g=p*T,Math.atan2(m,p)*V.MathUtils.radDeg):(m=p=0,90-Math.atan2(g,f)*V.MathUtils.radDeg)),E=r+o-w+90,v=V.MathUtils.cosDeg(b)*n,y=V.MathUtils.cosDeg(E)*a,x=V.MathUtils.sinDeg(b)*n,M=V.MathUtils.sinDeg(E)*a;l.a=p*v-f*x,l.c=p*y-f*M,l.b=m*v+g*x,l.d=m*y+g*M;break;case V.TransformMode.NoScale:case V.TransformMode.NoScaleOrReflection:var T,S=V.MathUtils.cosDeg(r),I=V.MathUtils.sinDeg(r),A=(p*S+f*I)/h,R=(m*S+g*I)/c;1e-5<(T=Math.sqrt(A*A+R*R))&&(T=1/T),A*=T,R*=T,T=Math.sqrt(A*A+R*R),this.data.transformMode==V.TransformMode.NoScale&&p*g-f*m<0!=(ie.yDown?this.skeleton.scaleX<0!=0<this.skeleton.scaleY:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(T=-T);var C=Math.PI/2+Math.atan2(R,A),P=Math.cos(C)*T,k=Math.sin(C)*T,v=V.MathUtils.cosDeg(i)*n,y=V.MathUtils.cosDeg(90+o)*a,x=V.MathUtils.sinDeg(i)*n,M=V.MathUtils.sinDeg(90+o)*a;l.a=A*v+P*x,l.c=A*y+P*M,l.b=R*v+k*x,l.d=R*y+k*M}l.a*=h,l.c*=h,l.b*=c,l.d*=c},ie.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},ie.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*V.MathUtils.radDeg},ie.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*V.MathUtils.radDeg},ie.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},ie.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},ie.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*V.MathUtils.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*V.MathUtils.radDeg);var r=t.matrix,n=1/(r.a*r.d-r.b*r.c),a=e.tx-r.tx,i=e.ty-r.ty;this.ax=a*r.d*n-i*r.c*n,this.ay=i*r.a*n-a*r.b*n;var o,s=n*r.d,l=n*r.a,h=n*r.c,c=n*r.b,u=s*e.a-h*e.b,d=s*e.c-h*e.d,p=l*e.b-c*e.a,f=l*e.d-c*e.c;this.ashearX=0,this.ascaleX=Math.sqrt(u*u+p*p),1e-4<this.ascaleX?(o=u*f-d*p,this.ascaleY=o/this.ascaleX,this.ashearY=Math.atan2(u*d+p*f,o)*V.MathUtils.radDeg,this.arotation=Math.atan2(p,u)*V.MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(d*d+f*f),this.ashearY=0,this.arotation=90-Math.atan2(f,d)*V.MathUtils.radDeg)},ie.prototype.worldToLocal=function(t){var e=this.matrix,r=e.a,n=e.c,a=e.b,i=e.d,o=1/(r*i-n*a),s=t.x-e.tx,l=t.y-e.ty;return t.x=s*i*o-l*n*o,t.y=l*r*o-s*a*o,t},ie.prototype.localToWorld=function(t){var e=this.matrix,r=t.x,n=t.y;return t.x=r*e.a+n*e.c+e.tx,t.y=r*e.b+n*e.d+e.ty,t},ie.prototype.worldToLocalRotation=function(t){var e=V.MathUtils.sinDeg(t),r=V.MathUtils.cosDeg(t),n=this.matrix;return Math.atan2(n.a*e-n.b*r,n.d*r-n.c*e)*V.MathUtils.radDeg},ie.prototype.localToWorldRotation=function(t){var e=V.MathUtils.sinDeg(t),r=V.MathUtils.cosDeg(t),n=this.matrix;return Math.atan2(r*n.b+e*n.d,r*n.a+e*n.c)*V.MathUtils.radDeg},ie.prototype.rotateWorld=function(t){var e=this.matrix,r=e.a,n=e.c,a=e.b,i=e.d,o=V.MathUtils.cosDeg(t),s=V.MathUtils.sinDeg(t);e.a=o*r-s*a,e.c=o*n-s*i,e.b=s*r+o*a,e.d=s*n+o*i,this.appliedValid=!1},ie.yDown=!1,m=ie,V.Bone=m,g=ee=ee||{},(v=g.core||(g.core={})).BoneData=oe,(x=y=v.TransformMode||(v.TransformMode={}))[x.Normal=0]="Normal",x[x.OnlyTranslation=1]="OnlyTranslation",x[x.NoRotationOrReflection=2]="NoRotationOrReflection",x[x.NoScale=3]="NoScale",x[x.NoScaleOrReflection=4]="NoScaleOrReflection",((M=ee=ee||{}).core||(M.core={})).ConstraintData=se,((w=ee=ee||{}).core||(w.core={})).Event=le,((b=ee=ee||{}).core||(b.core={})).EventData=he,E=ee=ee||{},ht=E.core||(E.core={}),ce.prototype.isActive=function(){return this.active},ce.prototype.apply=function(){this.update()},ce.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}},ce.prototype.apply1=function(t,e,r,n,a,i,o){t.appliedValid||t.updateAppliedTransform();var s=t.parent.matrix,l=s.a,h=s.c,c=s.b,u=s.d,d=-t.ashearX-t.arotation,p=0,f=0;switch(t.data.transformMode){case ht.TransformMode.OnlyTranslation:p=e-t.worldX,f=r-t.worldY;break;case ht.TransformMode.NoRotationOrReflection:d+=Math.atan2(c,l)*ht.MathUtils.radDeg;var m=Math.abs(l*u-h*c)/(l*l+c*c),h=-c*m,u=l*m;default:var g=e-s.tx,v=r-s.ty,y=l*u-h*c,p=(g*u-v*h)/y-t.ax,f=(v*l-g*c)/y-t.ay}d+=Math.atan2(f,p)*ht.MathUtils.radDeg,t.ascaleX<0&&(d+=180),180<d?d-=360:d<-180&&(d+=360);var x=t.ascaleX,M=t.ascaleY;if(n||a){switch(t.data.transformMode){case ht.TransformMode.NoScale:case ht.TransformMode.NoScaleOrReflection:p=e-t.worldX,f=r-t.worldY}var w,b=t.data.length*x,E=Math.sqrt(p*p+f*f);(n&&E<b||a&&b<E&&1e-4<b)&&(x*=w=(E/b-1)*o+1,i&&(M*=w))}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+d*o,x,M,t.ashearX,t.ashearY)},ce.prototype.apply2=function(t,e,r,n,a,i,o,s){if(0!=s){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var l=t.ax,h=t.ay,c=t.ascaleX,u=c,d=t.ascaleY,p=e.ascaleX,f=t.matrix,m=0,g=0,v=0,v=c<0?(c=-c,m=180,-1):(m=0,1);d<0&&(d=-d,v=-v),g=p<0?(p=-p,180):0;var y=e.ax,x=0,M=0,w=0,b=f.a,E=f.c,T=f.b,S=f.d,I=Math.abs(c-d)<=1e-4,w=I?(M=b*y+E*(x=e.ay)+f.tx,T*y+S*x+f.ty):(x=0,M=b*y+f.tx,T*y+f.ty),A=t.parent.matrix,b=A.a,E=A.c;T=A.b;var R,C=1/(b*(S=A.d)-E*T),P=M-A.tx,k=w-A.ty,V=(P*S-k*E)*C-l,N=(k*b-P*T)*C-h,F=Math.sqrt(V*V+N*N),O=e.data.length*p;if(F<1e-4)return this.apply1(t,r,n,!1,i,!1,s),void e.updateWorldTransformWith(y,x,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var _,D,X,U=((P=r-A.tx)*S-(k=n-A.ty)*E)*C-l,L=(k*b-P*T)*C-h,B=U*U+L*L;0!=o&&(o*=c*(p+1)/2,0<(D=(_=Math.sqrt(B))-F-O*c+o)&&(B=(U-=(X=(D-o*(1-(X=Math.min(1,D/(2*o))-1)*X))/_)*U)*U+(L-=X*L)*L));t:if(I){var Y=(B-F*F-(O*=c)*O)/(2*F*O);Y<-1?Y=-1:1<Y&&(Y=1,i&&(u*=(Math.sqrt(B)/(F+O)-1)*s+1)),R=Math.acos(Y)*a,b=F+O*Y,E=O*Math.sin(R),ot=Math.atan2(L*b-U*E,U*b+L*E)}else{var W=(b=c*O)*b,q=(E=d*O)*E,j=Math.atan2(L,U),G=-2*q*F,H=q-W;if(0<=(S=G*G-4*H*(T=q*F*F+W*B-W*q))){var z=Math.sqrt(S);G<0&&(z=-z);var Z=(z=-(G+z)/2)/H,J=T/z,K=Math.abs(Z)<Math.abs(J)?Z:J;if(K*K<=B){k=Math.sqrt(B-K*K)*a,ot=j-Math.atan2(k,K),R=Math.atan2(k/d,(K-F)/c);break t}}var Q=ht.MathUtils.PI,$=F-b,tt=$*$,et=0,rt=0,nt=F+b,at=nt*nt,it=0;-1<=(T=-b*F/(W-q))&&T<=1&&(T=Math.acos(T),(S=(P=b*Math.cos(T)+F)*P+(k=E*Math.sin(T))*k)<tt&&(Q=T,tt=S,$=P,et=k),at<S&&(rt=T,at=S,nt=P,it=k)),R=B<=(tt+at)/2?(ot=j-Math.atan2(et*a,$),Q*a):(ot=j-Math.atan2(it*a,nt),rt*a)}var ot,st=Math.atan2(x,y)*v,lt=t.arotation;180<(ot=(ot-st)*ht.MathUtils.radDeg+m-lt)?ot-=360:ot<-180&&(ot+=360),t.updateWorldTransformWith(l,h,lt+ot*s,u,t.ascaleY,0,0),lt=e.arotation,180<(R=((R+st)*ht.MathUtils.radDeg-e.ashearX)*v+g-lt)?R-=360:R<-180&&(R+=360),e.updateWorldTransformWith(y,x,lt+R*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()},T=ce,ht.IkConstraint=T,S=ee=ee||{},I=S.core||(S.core={}),A=I.ConstraintData,re(ue,A),R=ue,I.IkConstraintData=R,C=ee=ee||{},z=C.core||(C.core={}),de.prototype.isActive=function(){return this.active},de.prototype.apply=function(){this.update()},de.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof z.PathAttachment){var e=this.rotateMix,r=this.translateMix,n=0<e;if(0<r||n){var a=this.data,i=a.spacingMode,o=i==z.SpacingMode.Length,s=a.rotateMode,l=s==z.RotateMode.Tangent,h=s==z.RotateMode.ChainScale,c=this.bones.length,u=l?c:c+1,d=this.bones,p=z.Utils.setArraySize(this.spaces,u),f=null,m=this.spacing;if(h||o){h&&(f=z.Utils.setArraySize(this.lengths,c));for(var g=0,v=u-1;g<v;){var y,x=(I=d[g]).data.length;x<de.epsilon?(h&&(f[g]=0),p[++g]=0):(R=x*I.matrix.a,C=x*I.matrix.b,y=Math.sqrt(R*R+C*C),h&&(f[g]=y),p[++g]=(o?x+m:m)*y/x)}}else for(g=1;g<u;g++)p[g]=m;var M=this.computeWorldPositions(t,u,l,a.positionMode==z.PositionMode.Percent,i==z.SpacingMode.Percent),w=M[0],b=M[1],E=a.offsetRotation,T=!1;0==E?T=s==z.RotateMode.Chain:(T=!1,E*=0<(S=this.target.bone.matrix).a*S.d-S.b*S.c?z.MathUtils.degRad:-z.MathUtils.degRad);for(var g=0,S=3;g<c;g++,S+=3){var I,A=(I=d[g]).matrix;A.tx+=(w-A.tx)*r,A.ty+=(b-A.ty)*r;var R,C,P,k,V,N,F,O,_,D,X,U,L=(R=M[S])-w,B=(C=M[S+1])-b;!h||0!=(P=f[g])&&(k=(Math.sqrt(L*L+B*B)/P-1)*e+1,A.a*=k,A.b*=k),w=R,b=C,n&&(V=A.a,N=A.c,F=A.b,O=A.d,D=_=U=0,U=l?M[S-1]:0==p[g+1]?M[S+2]:Math.atan2(B,L),U-=Math.atan2(F,V),T?(_=Math.cos(U),D=Math.sin(U),w+=((X=I.data.length)*(_*V-D*F)-L)*e,b+=(X*(D*V+_*F)-B)*e):U+=E,U>z.MathUtils.PI?U-=z.MathUtils.PI2:U<-z.MathUtils.PI&&(U+=z.MathUtils.PI2),U*=e,_=Math.cos(U),D=Math.sin(U),A.a=_*V-D*F,A.c=_*N-D*O,A.b=D*V+_*F,A.d=D*N+_*O),I.appliedValid=!1}}}},de.prototype.computeWorldPositions=function(t,e,r,n,a){var i=this.target,o=this.position,s=this.spaces,l=z.Utils.setArraySize(this.positions,3*e+2),h=null,c=t.closed,u=t.worldVerticesLength,d=u/6,p=de.NONE;if(!t.constantSpeed){var f=t.lengths,m=f[d-=c?1:2];if(n&&(o*=m),a)for(var g=0;g<e;g++)s[g]*=m;h=z.Utils.setArraySize(this.world,8);for(var g=0,v=0,y=0;g<e;g++,v+=3){var x=o+=W=s[g];if(c)(x%=m)<0&&(x+=m),y=0;else{if(x<0){p!=de.BEFORE&&(p=de.BEFORE,t.computeWorldVertices(i,2,4,h,0,2)),this.addBeforePosition(x,h,0,l,v);continue}if(m<x){p!=de.AFTER&&(p=de.AFTER,t.computeWorldVertices(i,u-6,4,h,0,2)),this.addAfterPosition(x-m,h,0,l,v);continue}}for(;;y++){var M=f[y];if(!(M<x)){0==y?x/=M:x=(x-(G=f[y-1]))/(M-G);break}}y!=p&&(p=y,c&&y==d?(t.computeWorldVertices(i,u-4,4,h,0,2),t.computeWorldVertices(i,0,4,h,4,2)):t.computeWorldVertices(i,6*y+2,8,h,0,2)),this.addCurvePosition(x,h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],l,v,r||0<g&&0==W)}return l}c?(u+=2,h=z.Utils.setArraySize(this.world,u),t.computeWorldVertices(i,2,u-4,h,0,2),t.computeWorldVertices(i,0,2,h,u-4,2),h[u-2]=h[0],h[u-1]=h[1]):(d--,u-=4,h=z.Utils.setArraySize(this.world,u),t.computeWorldVertices(i,2,u,h,0,2));for(var w=z.Utils.setArraySize(this.curves,d),b=0,E=h[0],T=h[1],S=0,I=0,A=0,R=0,C=0,P=0,k=0,V=0,N=0,F=0,O=0,_=0,D=0,X=0,g=0,U=2;g<d;g++,U+=6)S=h[U],I=h[U+1],A=h[U+2],R=h[U+3],O=2*(k=.1875*(E-2*S+A))+(N=.09375*(3*(S-A)-E+(C=h[U+4]))),_=2*(V=.1875*(T-2*I+R))+(F=.09375*(3*(I-R)-T+(P=h[U+5]))),D=.75*(S-E)+k+.16666667*N,X=.75*(I-T)+V+.16666667*F,b+=Math.sqrt(D*D+X*X),D+=O,X+=_,O+=N,_+=F,b+=Math.sqrt(D*D+X*X),D+=O,X+=_,b+=Math.sqrt(D*D+X*X),D+=O+N,X+=_+F,b+=Math.sqrt(D*D+X*X),w[g]=b,E=C,T=P;if(n&&(o*=b),a)for(g=0;g<e;g++)s[g]*=b;for(var L=this.segments,B=0,g=0,v=0,y=0,Y=0;g<e;g++,v+=3){var W,x=o+=W=s[g];if(c)(x%=b)<0&&(x+=b),y=0;else{if(x<0){this.addBeforePosition(x,h,0,l,v);continue}if(b<x){this.addAfterPosition(x-b,h,u-4,l,v);continue}}for(;;y++){var q=w[y];if(!(q<x)){0==y?x/=q:x=(x-(G=w[y-1]))/(q-G);break}}if(y!=p){var j=6*(p=y),E=h[j],T=h[j+1],S=h[j+2],I=h[j+3],A=h[j+4],R=h[j+5],O=2*(k=.03*(E-2*S+A))+(N=.006*(3*(S-A)-E+(C=h[j+6]))),_=2*(V=.03*(T-2*I+R))+(F=.006*(3*(I-R)-T+(P=h[j+7]))),D=.3*(S-E)+k+.16666667*N,X=.3*(I-T)+V+.16666667*F,B=Math.sqrt(D*D+X*X);for(L[0]=B,j=1;j<8;j++)D+=O,X+=_,O+=N,_+=F,B+=Math.sqrt(D*D+X*X),L[j]=B;D+=O,X+=_,B+=Math.sqrt(D*D+X*X),L[8]=B,D+=O+N,X+=_+F,B+=Math.sqrt(D*D+X*X),L[9]=B,Y=0}for(x*=B;;Y++){var G,H=L[Y];if(!(H<x)){0==Y?x/=H:x=Y+(x-(G=L[Y-1]))/(H-G);break}}this.addCurvePosition(.1*x,E,T,S,I,A,R,C,P,l,v,r||0<g&&0==W)}return l},de.prototype.addBeforePosition=function(t,e,r,n,a){var i=e[r],o=e[r+1],s=e[r+2]-i,l=e[r+3]-o,h=Math.atan2(l,s);n[a]=i+t*Math.cos(h),n[a+1]=o+t*Math.sin(h),n[a+2]=h},de.prototype.addAfterPosition=function(t,e,r,n,a){var i=e[r+2],o=e[r+3],s=i-e[r],l=o-e[r+1],h=Math.atan2(l,s);n[a]=i+t*Math.cos(h),n[a+1]=o+t*Math.sin(h),n[a+2]=h},de.prototype.addCurvePosition=function(t,e,r,n,a,i,o,s,l,h,c,u){0!=t&&!isNaN(t)||(t=1e-4);var d=t*t,p=d*t,f=1-t,m=f*f,g=m*f,v=f*t,y=3*v,x=f*y,M=y*t,w=e*g+n*x+i*M+s*p,b=r*g+a*x+o*M+l*p;h[c]=w,h[c+1]=b,u&&(h[c+2]=Math.atan2(b-(r*m+a*v*2+o*d),w-(e*m+n*v*2+i*d)))},de.NONE=-1,de.BEFORE=-2,de.AFTER=-3,de.epsilon=1e-5,P=de,z.PathConstraint=P,k=ee=ee||{},N=k.core||(k.core={}),F=N.ConstraintData,re(pe,F),X=pe,N.PathConstraintData=X,(O=N.PositionMode||(N.PositionMode={}))[O.Fixed=0]="Fixed",O[O.Percent=1]="Percent",(_=N.SpacingMode||(N.SpacingMode={}))[_.Length=0]="Length",_[_.Fixed=1]="Fixed",_[_.Percent=2]="Percent",(D=N.RotateMode||(N.RotateMode={}))[D.Tangent=0]="Tangent",D[D.Chain=1]="Chain",D[D.ChainScale=2]="ChainScale",U=ee=ee||{},L=U.core||(U.core={}),fe.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,r=t.length;e<r;e++)(a=t[e]).sorted=a.data.skinRequired,a.active=!a.sorted;if(null!=this.skin)for(var n=this.skin.bones,e=0,r=this.skin.bones.length;e<r;e++)for(var a=this.bones[n[e].index];a.sorted=!1,a.active=!0,null!=(a=a.parent););var i=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,l=i.length,h=o.length,c=s.length,u=l+h+c;t:for(e=0;e<u;e++){for(var d=0;d<l;d++)if((p=i[d]).data.order==e){this.sortIkConstraint(p);continue t}for(d=0;d<h;d++)if((p=o[d]).data.order==e){this.sortTransformConstraint(p);continue t}for(var p,d=0;d<c;d++)if((p=s[d]).data.order==e){this.sortPathConstraint(p);continue t}}for(e=0,r=t.length;e<r;e++)this.sortBone(t[e])},fe.prototype.sortIkConstraint=function(t){var e,r,n,a;t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&L.Utils.contains(this.skin.constraints,t.data,!0)),t.active&&(e=t.target,this.sortBone(e),n=(r=t.bones)[0],this.sortBone(n),1<r.length&&(a=r[r.length-1],-1<this._updateCache.indexOf(a)||this.updateCacheReset.push(a)),this._updateCache.push(t),this.sortReset(n.children),r[r.length-1].sorted=!0)},fe.prototype.sortPathConstraint=function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||null!=this.skin&&L.Utils.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,r=e.data.index,n=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,r,n),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,n);for(var a=0,i=this.data.skins.length;a<i;a++)this.sortPathConstraintAttachment(this.data.skins[a],r,n);var o=e.getAttachment();o instanceof L.PathAttachment&&this.sortPathConstraintAttachmentWith(o,n);for(var s=t.bones,l=s.length,a=0;a<l;a++)this.sortBone(s[a]);for(this._updateCache.push(t),a=0;a<l;a++)this.sortReset(s[a].children);for(a=0;a<l;a++)s[a].sorted=!0}},fe.prototype.sortTransformConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&L.Utils.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,r=e.length;if(t.data.local)for(var n=0;n<r;n++){var a=e[n];this.sortBone(a.parent),-1<this._updateCache.indexOf(a)||this.updateCacheReset.push(a)}else for(n=0;n<r;n++)this.sortBone(e[n]);this._updateCache.push(t);for(var i=0;i<r;i++)this.sortReset(e[i].children);for(i=0;i<r;i++)e[i].sorted=!0}},fe.prototype.sortPathConstraintAttachment=function(t,e,r){var n=t.attachments[e];if(n)for(var a in n)this.sortPathConstraintAttachmentWith(n[a],r)},fe.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof L.PathAttachment){var r=t.bones;if(null==r)this.sortBone(e);else for(var n=this.bones,a=0;a<r.length;)for(var i=r[a++],o=a+i;a<o;a++){var s=r[a];this.sortBone(n[s])}}},fe.prototype.sortBone=function(t){var e;t.sorted||(null!=(e=t.parent)&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t))},fe.prototype.sortReset=function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];n.active&&(n.sorted&&this.sortReset(n.children),n.sorted=!1)}},fe.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,r=t.length;e<r;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY,n.appliedValid=!0}for(var a=this._updateCache,e=0,r=a.length;e<r;e++)a[e].update()},fe.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},fe.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,r=t.length;e<r;e++)t[e].setToSetupPose();for(var n=this.ikConstraints,e=0,r=n.length;e<r;e++)(s=n[e]).mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch;for(var a=this.transformConstraints,e=0,r=a.length;e<r;e++){var i=(s=a[e]).data;s.rotateMix=i.rotateMix,s.translateMix=i.translateMix,s.scaleMix=i.scaleMix,s.shearMix=i.shearMix}for(var o=this.pathConstraints,e=0,r=o.length;e<r;e++){var s,i=(s=o[e]).data;s.position=i.position,s.spacing=i.spacing,s.rotateMix=i.rotateMix,s.translateMix=i.translateMix}},fe.prototype.setSlotsToSetupPose=function(){var t=this.slots;L.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,r=t.length;e<r;e++)t[e].setToSetupPose()},fe.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},fe.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var a=e[r];if(a.data.name==t)return a}return null},fe.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1},fe.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var a=e[r];if(a.data.name==t)return a}return null},fe.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1},fe.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},fe.prototype.setSkin=function(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,r=0,n=e.length;r<n;r++){var a,i=e[r],o=i.data.attachmentName;null==o||null!=(a=t.getAttachment(r,o))&&i.setAttachment(a)}this.skin=t,this.updateCache()}},fe.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},fe.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var r=this.skin.getAttachment(t,e);if(null!=r)return r}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},fe.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,a=r.length;n<a;n++){var i=r[n];if(i.data.name==t){var o=null;if(null!=e&&null==(o=this.getAttachment(n,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void i.setAttachment(o)}}throw new Error("Slot not found: "+t)},fe.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var a=e[r];if(a.data.name==t)return a}return null},fe.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var a=e[r];if(a.data.name==t)return a}return null},fe.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var a=e[r];if(a.data.name==t)return a}return null},fe.prototype.getBounds=function(t,e,r){if(void 0===r&&(r=new Array(2)),null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var n=this.drawOrder,a=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=0,h=n.length;l<h;l++){var c=n[l];if(c.bone.active){var u,d=0,p=null,f=c.getAttachment();if(f instanceof L.RegionAttachment?(d=8,p=L.Utils.setArraySize(r,d,0),f.computeWorldVertices(c.bone,p,0,2)):f instanceof L.MeshAttachment&&(d=(u=f).worldVerticesLength,p=L.Utils.setArraySize(r,d,0),u.computeWorldVertices(c,0,d,p,0,2)),null!=p)for(var m=0,g=p.length;m<g;m+=2)var v=p[m],y=p[m+1],a=Math.min(a,v),i=Math.min(i,y),o=Math.max(o,v),s=Math.max(s,y)}}t.set(a,i),e.set(o-a,s-i)},fe.prototype.update=function(t){this.time+=t},Object.defineProperty(fe.prototype,"flipX",{get:function(){return-1==this.scaleX},set:function(t){fe.deprecatedWarning1||(fe.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(fe.prototype,"flipY",{get:function(){return-1==this.scaleY},set:function(t){fe.deprecatedWarning1||(fe.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1},enumerable:!1,configurable:!0}),fe.deprecatedWarning1=!1,B=fe,L.Skeleton=B,function(q){var t=(j.prototype.readSkeletonData=function(t){var e=this.scale,r=new q.SkeletonData;r.name="";var n=new x(t);r.hash=n.readString(),r.version=n.readString(),"3.8.75"===r.version&&console.error("Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine."),r.x=n.readFloat(),r.y=n.readFloat(),r.width=n.readFloat(),r.height=n.readFloat();var a=n.readBoolean();a&&(r.fps=n.readFloat(),r.imagesPath=n.readString(),r.audioPath=n.readString());for(var i=0,i=n.readInt(!0),o=0;o<i;o++)n.strings.push(n.readString());for(i=n.readInt(!0),o=0;o<i;o++){var s=n.readString(),l=0==o?null:r.bones[n.readInt(!0)];(u=new q.BoneData(o,s,l)).rotation=n.readFloat(),u.x=n.readFloat()*e,u.y=n.readFloat()*e,u.scaleX=n.readFloat(),u.scaleY=n.readFloat(),u.shearX=n.readFloat(),u.shearY=n.readFloat(),u.length=n.readFloat()*e,u.transformMode=j.TransformModeValues[n.readInt(!0)],u.skinRequired=n.readBoolean(),a&&q.Color.rgba8888ToColor(u.color,n.readInt32()),r.bones.push(u)}for(i=n.readInt(!0),o=0;o<i;o++){var h=n.readString(),c=r.bones[n.readInt(!0)],u=new q.SlotData(o,h,c);q.Color.rgba8888ToColor(u.color,n.readInt32());var d=n.readInt32();-1!=d&&q.Color.rgb888ToColor(u.darkColor=new q.Color,d),u.attachmentName=n.readStringRef(),u.blendMode=j.BlendModeValues[n.readInt(!0)],r.slots.push(u)}i=n.readInt(!0);for(var o=0,p=void 0;o<i;o++){(u=new q.IkConstraintData(n.readString())).order=n.readInt(!0),u.skinRequired=n.readBoolean(),p=n.readInt(!0);for(var f=0;f<p;f++)u.bones.push(r.bones[n.readInt(!0)]);u.target=r.bones[n.readInt(!0)],u.mix=n.readFloat(),u.softness=n.readFloat()*e,u.bendDirection=n.readByte(),u.compress=n.readBoolean(),u.stretch=n.readBoolean(),u.uniform=n.readBoolean(),r.ikConstraints.push(u)}for(i=n.readInt(!0),p=void(o=0);o<i;o++){for((u=new q.TransformConstraintData(n.readString())).order=n.readInt(!0),u.skinRequired=n.readBoolean(),p=n.readInt(!0),f=0;f<p;f++)u.bones.push(r.bones[n.readInt(!0)]);u.target=r.bones[n.readInt(!0)],u.local=n.readBoolean(),u.relative=n.readBoolean(),u.offsetRotation=n.readFloat(),u.offsetX=n.readFloat()*e,u.offsetY=n.readFloat()*e,u.offsetScaleX=n.readFloat(),u.offsetScaleY=n.readFloat(),u.offsetShearY=n.readFloat(),u.rotateMix=n.readFloat(),u.translateMix=n.readFloat(),u.scaleMix=n.readFloat(),u.shearMix=n.readFloat(),r.transformConstraints.push(u)}for(i=n.readInt(!0),p=void(o=0);o<i;o++){for((u=new q.PathConstraintData(n.readString())).order=n.readInt(!0),u.skinRequired=n.readBoolean(),p=n.readInt(!0),f=0;f<p;f++)u.bones.push(r.bones[n.readInt(!0)]);u.target=r.slots[n.readInt(!0)],u.positionMode=j.PositionModeValues[n.readInt(!0)],u.spacingMode=j.SpacingModeValues[n.readInt(!0)],u.rotateMode=j.RotateModeValues[n.readInt(!0)],u.offsetRotation=n.readFloat(),u.position=n.readFloat(),u.positionMode==q.PositionMode.Fixed&&(u.position*=e),u.spacing=n.readFloat(),u.spacingMode!=q.SpacingMode.Length&&u.spacingMode!=q.SpacingMode.Fixed||(u.spacing*=e),u.rotateMix=n.readFloat(),u.translateMix=n.readFloat(),r.pathConstraints.push(u)}var m=this.readSkin(n,r,!0,a);for(null!=m&&(r.defaultSkin=m,r.skins.push(m)),o=r.skins.length,q.Utils.setArraySize(r.skins,i=o+n.readInt(!0));o<i;o++)r.skins[o]=this.readSkin(n,r,!1,a);for(i=this.linkedMeshes.length,o=0;o<i;o++){var g=this.linkedMeshes[o],v=null==g.skin?r.defaultSkin:r.findSkin(g.skin);if(null==v)throw new Error("Skin not found: "+g.skin);var y=v.getAttachment(g.slotIndex,g.parent);if(null==y)throw new Error("Parent mesh not found: "+g.parent);g.mesh.deformAttachment=g.inheritDeform?y:g.mesh,g.mesh.setParentMesh(y)}for(this.linkedMeshes.length=0,i=n.readInt(!0),o=0;o<i;o++)(u=new q.EventData(n.readStringRef())).intValue=n.readInt(!1),u.floatValue=n.readFloat(),u.stringValue=n.readString(),u.audioPath=n.readString(),null!=u.audioPath&&(u.volume=n.readFloat(),u.balance=n.readFloat()),r.events.push(u);for(i=n.readInt(!0),o=0;o<i;o++)r.animations.push(this.readAnimation(n,n.readString(),r));return r},j.prototype.readSkin=function(t,e,r,n){var a=null,i=0;if(r){if(0==(i=t.readInt(!0)))return null;a=new q.Skin("default")}else{(a=new q.Skin(t.readStringRef())).bones.length=t.readInt(!0);for(var o=0,s=a.bones.length;o<s;o++)a.bones[o]=e.bones[t.readInt(!0)];for(o=0,s=t.readInt(!0);o<s;o++)a.constraints.push(e.ikConstraints[t.readInt(!0)]);for(o=0,s=t.readInt(!0);o<s;o++)a.constraints.push(e.transformConstraints[t.readInt(!0)]);for(o=0,s=t.readInt(!0);o<s;o++)a.constraints.push(e.pathConstraints[t.readInt(!0)]);i=t.readInt(!0)}for(o=0;o<i;o++)for(var l=t.readInt(!0),h=0,c=t.readInt(!0);h<c;h++){var u=t.readStringRef(),d=this.readAttachment(t,e,a,l,u,n);null!=d&&a.setAttachment(l,u,d)}return a},j.prototype.readAttachment=function(t,e,r,n,a,i){var o=this.scale,s=t.readStringRef();null==s&&(s=a);var l=t.readByte();switch(j.AttachmentTypeValues[l]){case q.AttachmentType.Region:var h=t.readStringRef(),c=t.readFloat(),u=t.readFloat(),d=t.readFloat(),p=t.readFloat(),f=t.readFloat(),m=t.readFloat(),g=t.readFloat(),v=t.readInt32();null==h&&(h=s);var y=this.attachmentLoader.newRegionAttachment(r,s,h);return null==y?null:(y.path=h,y.x=u*o,y.y=d*o,y.scaleX=p,y.scaleY=f,y.rotation=c,y.width=m*o,y.height=g*o,q.Color.rgba8888ToColor(y.color,v),y);case q.AttachmentType.BoundingBox:var x=t.readInt(!0),M=this.readVertices(t,x),v=i?t.readInt32():0,w=this.attachmentLoader.newBoundingBoxAttachment(r,s);return null==w?null:(w.worldVerticesLength=x<<1,w.vertices=M.vertices,w.bones=M.bones,i&&q.Color.rgba8888ToColor(w.color,v),w);case q.AttachmentType.Mesh:var h=t.readStringRef(),v=t.readInt32(),x=t.readInt(!0),b=this.readFloatArray(t,x<<1,1),E=this.readShortArray(t),M=this.readVertices(t,x),T=t.readInt(!0),S=null,m=0,g=0;return i&&(S=this.readShortArray(t),m=t.readFloat(),g=t.readFloat()),null==h&&(h=s),null==(I=this.attachmentLoader.newMeshAttachment(r,s,h))?null:(I.path=h,q.Color.rgba8888ToColor(I.color,v),I.bones=M.bones,I.vertices=M.vertices,I.worldVerticesLength=x<<1,I.triangles=E,I.regionUVs=new Float32Array(b),I.hullLength=T<<1,i&&(I.edges=S,I.width=m*o,I.height=g*o),I);case q.AttachmentType.LinkedMesh:var I,h=t.readStringRef(),v=t.readInt32(),A=t.readStringRef(),R=t.readStringRef(),C=t.readBoolean(),m=0,g=0;return i&&(m=t.readFloat(),g=t.readFloat()),null==h&&(h=s),null==(I=this.attachmentLoader.newMeshAttachment(r,s,h))?null:(I.path=h,q.Color.rgba8888ToColor(I.color,v),i&&(I.width=m*o,I.height=g*o),this.linkedMeshes.push(new X(I,A,n,R,C)),I);case q.AttachmentType.Path:for(var P=t.readBoolean(),k=t.readBoolean(),x=t.readInt(!0),M=this.readVertices(t,x),V=q.Utils.newArray(x/3,0),N=0,F=V.length;N<F;N++)V[N]=t.readFloat()*o;return v=i?t.readInt32():0,null==(h=this.attachmentLoader.newPathAttachment(r,s))?null:(h.closed=P,h.constantSpeed=k,h.worldVerticesLength=x<<1,h.vertices=M.vertices,h.bones=M.bones,h.lengths=V,i&&q.Color.rgba8888ToColor(h.color,v),h);case q.AttachmentType.Point:var c=t.readFloat(),u=t.readFloat(),d=t.readFloat(),v=i?t.readInt32():0,O=this.attachmentLoader.newPointAttachment(r,s);return null==O?null:(O.x=u*o,O.y=d*o,O.rotation=c,i&&q.Color.rgba8888ToColor(O.color,v),O);case q.AttachmentType.Clipping:var _=t.readInt(!0),x=t.readInt(!0),M=this.readVertices(t,x),v=i?t.readInt32():0,D=this.attachmentLoader.newClippingAttachment(r,s);return null==D?null:(D.endSlot=e.slots[_],D.worldVerticesLength=x<<1,D.vertices=M.vertices,D.bones=M.bones,i&&q.Color.rgba8888ToColor(D.color,v),D)}return null},j.prototype.readVertices=function(t,e){var r=e<<1,n=new c,a=this.scale;if(!t.readBoolean())return n.vertices=this.readFloatArray(t,r,a),n;for(var i=new Array,o=new Array,s=0;s<e;s++){var l=t.readInt(!0);o.push(l);for(var h=0;h<l;h++)o.push(t.readInt(!0)),i.push(t.readFloat()*a),i.push(t.readFloat()*a),i.push(t.readFloat())}return n.vertices=q.Utils.toFloatArray(i),n.bones=o,n},j.prototype.readFloatArray=function(t,e,r){var n=new Array(e);if(1==r)for(var a=0;a<e;a++)n[a]=t.readFloat();else for(a=0;a<e;a++)n[a]=t.readFloat()*r;return n},j.prototype.readShortArray=function(t){for(var e=t.readInt(!0),r=new Array(e),n=0;n<e;n++)r[n]=t.readShort();return r},j.prototype.readAnimation=function(t,e,r){for(var n=new Array,a=this.scale,i=0,o=new q.Color,s=new q.Color,l=0,h=t.readInt(!0);l<h;l++)for(var c=t.readInt(!0),u=0,d=t.readInt(!0);u<d;u++){var p=t.readByte(),f=t.readInt(!0);switch(p){case j.SLOT_ATTACHMENT:(y=new q.AttachmentTimeline(f)).slotIndex=c;for(var m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readStringRef());n.push(y),i=Math.max(i,y.frames[f-1]);break;case j.SLOT_COLOR:for((y=new q.ColorTimeline(f)).slotIndex=c,m=0;m<f;m++){var g=t.readFloat();q.Color.rgba8888ToColor(o,t.readInt32()),y.setFrame(m,g,o.r,o.g,o.b,o.a),m<f-1&&this.readCurve(t,m,y)}n.push(y),i=Math.max(i,y.frames[(f-1)*q.ColorTimeline.ENTRIES]);break;case j.SLOT_TWO_COLOR:for((y=new q.TwoColorTimeline(f)).slotIndex=c,m=0;m<f;m++)g=t.readFloat(),q.Color.rgba8888ToColor(o,t.readInt32()),q.Color.rgb888ToColor(s,t.readInt32()),y.setFrame(m,g,o.r,o.g,o.b,o.a,s.r,s.g,s.b),m<f-1&&this.readCurve(t,m,y);n.push(y),i=Math.max(i,y.frames[(f-1)*q.TwoColorTimeline.ENTRIES])}}for(l=0,h=t.readInt(!0);l<h;l++)for(var v=t.readInt(!0),u=0,d=t.readInt(!0);u<d;u++)switch(p=t.readByte(),f=t.readInt(!0),p){case j.BONE_ROTATE:for((y=new q.RotateTimeline(f)).boneIndex=v,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat()),m<f-1&&this.readCurve(t,m,y);n.push(y),i=Math.max(i,y.frames[(f-1)*q.RotateTimeline.ENTRIES]);break;case j.BONE_TRANSLATE:case j.BONE_SCALE:case j.BONE_SHEAR:var y=void 0,x=1;for(p==j.BONE_SCALE?y=new q.ScaleTimeline(f):p==j.BONE_SHEAR?y=new q.ShearTimeline(f):(y=new q.TranslateTimeline(f),x=a),y.boneIndex=v,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat()*x,t.readFloat()*x),m<f-1&&this.readCurve(t,m,y);n.push(y),i=Math.max(i,y.frames[(f-1)*q.TranslateTimeline.ENTRIES])}for(l=0,h=t.readInt(!0);l<h;l++){var M=t.readInt(!0),f=t.readInt(!0);for((y=new q.IkConstraintTimeline(f)).ikConstraintIndex=M,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat(),t.readFloat()*a,t.readByte(),t.readBoolean(),t.readBoolean()),m<f-1&&this.readCurve(t,m,y);n.push(y),i=Math.max(i,y.frames[(f-1)*q.IkConstraintTimeline.ENTRIES])}for(l=0,h=t.readInt(!0);l<h;l++){for(M=t.readInt(!0),f=t.readInt(!0),(y=new q.TransformConstraintTimeline(f)).transformConstraintIndex=M,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat()),m<f-1&&this.readCurve(t,m,y);n.push(y),i=Math.max(i,y.frames[(f-1)*q.TransformConstraintTimeline.ENTRIES])}for(l=0,h=t.readInt(!0);l<h;l++)for(var M=t.readInt(!0),w=r.pathConstraints[M],u=0,d=t.readInt(!0);u<d;u++)switch(p=t.readByte(),f=t.readInt(!0),p){case j.PATH_POSITION:case j.PATH_SPACING:var y=void 0,x=1;for(p==j.PATH_SPACING?(y=new q.PathConstraintSpacingTimeline(f),w.spacingMode!=q.SpacingMode.Length&&w.spacingMode!=q.SpacingMode.Fixed||(x=a)):(y=new q.PathConstraintPositionTimeline(f),w.positionMode==q.PositionMode.Fixed&&(x=a)),y.pathConstraintIndex=M,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat()*x),m<f-1&&this.readCurve(t,m,y);n.push(y),i=Math.max(i,y.frames[(f-1)*q.PathConstraintPositionTimeline.ENTRIES]);break;case j.PATH_MIX:for((y=new q.PathConstraintMixTimeline(f)).pathConstraintIndex=M,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat(),t.readFloat()),m<f-1&&this.readCurve(t,m,y);n.push(y),i=Math.max(i,y.frames[(f-1)*q.PathConstraintMixTimeline.ENTRIES])}for(l=0,h=t.readInt(!0);l<h;l++)for(var b=r.skins[t.readInt(!0)],u=0,d=t.readInt(!0);u<d;u++)for(var c=t.readInt(!0),E=0,T=t.readInt(!0);E<T;E++){var S=b.getAttachment(c,t.readStringRef()),I=null!=S.bones,A=S.vertices,R=I?A.length/3*2:A.length,f=t.readInt(!0);for((y=new q.DeformTimeline(f)).slotIndex=c,y.attachment=S,m=0;m<f;m++){var g=t.readFloat(),C=void 0,P=t.readInt(!0);if(0==P)C=I?q.Utils.newFloatArray(R):A;else{C=q.Utils.newFloatArray(R);var k=t.readInt(!0);if(P+=k,1==a)for(var V=k;V<P;V++)C[V]=t.readFloat();else for(V=k;V<P;V++)C[V]=t.readFloat()*a;if(!I)for(var V=0,N=C.length;V<N;V++)C[V]+=A[V]}y.setFrame(m,g,C),m<f-1&&this.readCurve(t,m,y)}n.push(y),i=Math.max(i,y.frames[f-1])}var F=t.readInt(!0);if(0<F){for(var y=new q.DrawOrderTimeline(F),O=r.slots.length,l=0;l<F;l++){for(var g=t.readFloat(),_=t.readInt(!0),D=q.Utils.newArray(O,0),u=O-1;0<=u;u--)D[u]=-1;for(var X=q.Utils.newArray(O-_,0),U=0,L=0,u=0;u<_;u++){for(c=t.readInt(!0);U!=c;)X[L++]=U++;D[U+t.readInt(!0)]=U++}for(;U<O;)X[L++]=U++;for(u=O-1;0<=u;u--)-1==D[u]&&(D[u]=X[--L]);y.setFrame(l,g,D)}n.push(y),i=Math.max(i,y.frames[F-1])}var B=t.readInt(!0);if(0<B){for(y=new q.EventTimeline(B),l=0;l<B;l++){var g=t.readFloat(),Y=r.events[t.readInt(!0)],W=new q.Event(g,Y);W.intValue=t.readInt(!1),W.floatValue=t.readFloat(),W.stringValue=t.readBoolean()?t.readString():Y.stringValue,null!=W.data.audioPath&&(W.volume=t.readFloat(),W.balance=t.readFloat()),y.setFrame(l,W)}n.push(y),i=Math.max(i,y.frames[B-1])}return new q.Animation(e,n,i)},j.prototype.readCurve=function(t,e,r){switch(t.readByte()){case j.CURVE_STEPPED:r.setStepped(e);break;case j.CURVE_BEZIER:this.setCurve(r,e,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat())}},j.prototype.setCurve=function(t,e,r,n,a,i){t.setCurve(e,r,n,a,i)},j.AttachmentTypeValues=[0,1,2,3,4,5,6],j.TransformModeValues=[q.TransformMode.Normal,q.TransformMode.OnlyTranslation,q.TransformMode.NoRotationOrReflection,q.TransformMode.NoScale,q.TransformMode.NoScaleOrReflection],j.PositionModeValues=[q.PositionMode.Fixed,q.PositionMode.Percent],j.SpacingModeValues=[q.SpacingMode.Length,q.SpacingMode.Fixed,q.SpacingMode.Percent],j.RotateModeValues=[q.RotateMode.Tangent,q.RotateMode.Chain,q.RotateMode.ChainScale],j.BlendModeValues=[q.BlendMode.Normal,q.BlendMode.Additive,q.BlendMode.Multiply,q.BlendMode.Screen],j.BONE_ROTATE=0,j.BONE_TRANSLATE=1,j.BONE_SCALE=2,j.BONE_SHEAR=3,j.SLOT_ATTACHMENT=0,j.SLOT_COLOR=1,j.SLOT_TWO_COLOR=2,j.PATH_POSITION=0,j.PATH_SPACING=1,j.PATH_MIX=2,j.CURVE_LINEAR=0,j.CURVE_STEPPED=1,j.CURVE_BEZIER=2,j);function j(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}q.SkeletonBinary=t;var x=(e.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},e.prototype.readShort=function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t},e.prototype.readInt32=function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t},e.prototype.readInt=function(t){var e=this.readByte(),r=127&e;return 0!=(128&e)&&(r|=(127&(e=this.readByte()))<<7,0!=(128&e)&&(r|=(127&(e=this.readByte()))<<14,0!=(128&e)&&(r|=(127&(e=this.readByte()))<<21,0!=(128&e)&&(r|=(127&this.readByte())<<28)))),t?r:r>>>1^-(1&r)},e.prototype.readStringRef=function(){var t=this.readInt(!0);return 0==t?null:this.strings[t-1]},e.prototype.readString=function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",r=0;r<t;){var n=this.readByte();switch(n>>4){case 12:case 13:e+=String.fromCharCode((31&n)<<6|63&this.readByte()),r+=2;break;case 14:e+=String.fromCharCode((15&n)<<12|(63&this.readByte())<<6|63&this.readByte()),r+=3;break;default:e+=String.fromCharCode(n),r++}}return e},e.prototype.readFloat=function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t},e.prototype.readBoolean=function(){return 0!=this.readByte()},e);function e(t,e,r,n){void 0===e&&(e=new Array),void 0===r&&(r=0),void 0===n&&(n=new DataView(t.buffer)),this.strings=e,this.index=r,this.buffer=n}var X=function(t,e,r,n,a){this.mesh=t,this.skin=e,this.slotIndex=r,this.parent=n,this.inheritDeform=a},c=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.bones=t,this.vertices=e}}((Y=ee=ee||{}).core||(Y.core={})),W=ee=ee||{},q=W.core||(W.core={}),me.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var r=this.boundingBoxes,n=this.polygons,a=this.polygonPool,i=t.slots,o=i.length;r.length=0,a.freeAll(n);for(var s=n.length=0;s<o;s++){var l,h,c,u=i[s];u.bone.active&&(l=u.getAttachment())instanceof q.BoundingBoxAttachment&&(h=l,r.push(h),(c=a.obtain()).length!=h.worldVerticesLength&&(c=q.Utils.newFloatArray(h.worldVerticesLength)),n.push(c),h.computeWorldVertices(u,0,h.worldVerticesLength,c,0,2))}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},me.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,a=this.polygons,i=0,o=a.length;i<o;i++)for(var s=a[i],l=s,h=0,c=s.length;h<c;h+=2)var u=l[h],d=l[h+1],t=Math.min(t,u),e=Math.min(e,d),r=Math.max(r,u),n=Math.max(n,d);this.minX=t,this.minY=e,this.maxX=r,this.maxY=n},me.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},me.prototype.aabbIntersectsSegment=function(t,e,r,n){var a=this.minX,i=this.minY,o=this.maxX,s=this.maxY;if(t<=a&&r<=a||e<=i&&n<=i||o<=t&&o<=r||s<=e&&s<=n)return!1;var l=(n-e)/(r-t),h=l*(a-t)+e;if(i<h&&h<s)return!0;if(i<(h=l*(o-t)+e)&&h<s)return!0;var c=(i-e)/l+t;return a<c&&c<o||a<(c=(s-e)/l+t)&&c<o},me.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},me.prototype.containsPoint=function(t,e){for(var r=this.polygons,n=0,a=r.length;n<a;n++)if(this.containsPointPolygon(r[n],t,e))return this.boundingBoxes[n];return null},me.prototype.containsPointPolygon=function(t,e,r){for(var n=t,a=t.length,i=a-2,o=!1,s=0;s<a;s+=2){var l,h=n[s+1],c=n[i+1];!(h<r&&r<=c||c<r&&r<=h)||(l=n[s])+(r-h)/(c-h)*(n[i]-l)<e&&(o=!o),i=s}return o},me.prototype.intersectsSegment=function(t,e,r,n){for(var a=this.polygons,i=0,o=a.length;i<o;i++)if(this.intersectsSegmentPolygon(a[i],t,e,r,n))return this.boundingBoxes[i];return null},me.prototype.intersectsSegmentPolygon=function(t,e,r,n,a){for(var i=t,o=t.length,s=e-n,l=r-a,h=e*a-r*n,c=i[o-2],u=i[o-1],d=0;d<o;d+=2){var p=i[d],f=i[d+1],m=c*f-u*p,g=c-p,v=u-f,y=s*v-l*g,x=(h*g-s*m)/y;if((c<=x&&x<=p||p<=x&&x<=c)&&(e<=x&&x<=n||n<=x&&x<=e)){var M=(h*v-l*m)/y;if((u<=M&&M<=f||f<=M&&M<=u)&&(r<=M&&M<=a||a<=M&&M<=r))return!0}c=p,u=f}return!1},me.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},me.prototype.getWidth=function(){return this.maxX-this.minX},me.prototype.getHeight=function(){return this.maxY-this.minY},j=me,q.SkeletonBounds=j,G=ee=ee||{},Z=G.core||(G.core={}),ge.prototype.clipStart=function(t,e){if(null!=this.clipAttachment)return 0;var r=(this.clipAttachment=e).worldVerticesLength,n=Z.Utils.setArraySize(this.clippingPolygon,r);e.computeWorldVertices(t,0,r,n,0,2);var a=this.clippingPolygon;ge.makeClockwise(a);for(var i=this.clippingPolygons=this.triangulator.decompose(a,this.triangulator.triangulate(a)),o=0,s=i.length;o<s;o++){var l=i[o];ge.makeClockwise(l),l.push(l[0]),l.push(l[1])}return i.length},ge.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},ge.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},ge.prototype.isClipping=function(){return null!=this.clipAttachment},ge.prototype.clipTriangles=function(t,e,r,n,a,i,o,s){var l=this.clipOutput,h=this.clippedVertices,c=this.clippedTriangles,u=this.clippingPolygons,d=this.clippingPolygons.length,p=s?12:8,f=0;h.length=0;t:for(var m=c.length=0;m<n;m+=3)for(var g=r[m]<<1,v=t[g],y=t[1+g],x=a[g],M=a[1+g],w=t[g=r[m+1]<<1],b=t[1+g],E=a[g],T=a[1+g],S=t[g=r[m+2]<<1],I=t[1+g],A=a[g],R=a[1+g],C=0;C<d;C++){var P=h.length;if(!this.clip(v,y,w,b,S,I,u[C],l)){(U=Z.Utils.setArraySize(h,P+3*p))[P]=v,U[P+1]=y,U[P+2]=i.r,U[P+3]=i.g,U[P+4]=i.b,U[P+5]=i.a,s?(U[P+6]=x,U[P+7]=M,U[P+8]=o.r,U[P+9]=o.g,U[P+10]=o.b,U[P+11]=o.a,U[P+12]=w,U[P+13]=b,U[P+14]=i.r,U[P+15]=i.g,U[P+16]=i.b,U[P+17]=i.a,U[P+18]=E,U[P+19]=T,U[P+20]=o.r,U[P+21]=o.g,U[P+22]=o.b,U[P+23]=o.a,U[P+24]=S,U[P+25]=I,U[P+26]=i.r,U[P+27]=i.g,U[P+28]=i.b,U[P+29]=i.a,U[P+30]=A,U[P+31]=R,U[P+32]=o.r,U[P+33]=o.g,U[P+34]=o.b,U[P+35]=o.a):(U[P+6]=x,U[P+7]=M,U[P+8]=w,U[P+9]=b,U[P+10]=i.r,U[P+11]=i.g,U[P+12]=i.b,U[P+13]=i.a,U[P+14]=E,U[P+15]=T,U[P+16]=S,U[P+17]=I,U[P+18]=i.r,U[P+19]=i.g,U[P+20]=i.b,U[P+21]=i.a,U[P+22]=A,U[P+23]=R),P=c.length,(z=Z.Utils.setArraySize(c,P+3))[P]=f,z[P+1]=f+1,z[P+2]=f+2,f+=3;continue t}var k=l.length;if(0!=k){for(var V=b-I,N=S-w,F=v-S,O=I-y,_=1/(V*F+N*(y-I)),D=k>>1,X=this.clipOutput,U=Z.Utils.setArraySize(h,P+D*p),L=0;L<k;L+=2){var B=X[L],Y=X[L+1];U[P]=B,U[P+1]=Y,U[P+2]=i.r,U[P+3]=i.g,U[P+4]=i.b,U[P+5]=i.a;var W=B-S,q=Y-I,j=(V*W+N*q)*_,G=(O*W+F*q)*_,H=1-j-G;U[P+6]=x*j+E*G+A*H,U[P+7]=M*j+T*G+R*H,s&&(U[P+8]=o.r,U[P+9]=o.g,U[P+10]=o.b,U[P+11]=o.a),P+=p}P=c.length;var z=Z.Utils.setArraySize(c,P+3*(D-2));for(D--,L=1;L<D;L++)z[P]=f,z[P+1]=f+L,z[P+2]=f+L+1,P+=3;f+=1+D}}},ge.prototype.clip=function(t,e,r,n,a,i,o,s){var l=s,h=!1,c=null;2<=o.length%4?(c=s,s=this.scratch):c=this.scratch,c.length=0,c.push(t),c.push(e),c.push(r),c.push(n),c.push(a),c.push(i),c.push(t),c.push(e),s.length=0;for(var u=o,d=o.length-4,p=0;;p+=2){for(var f=u[p],m=u[p+1],g=u[p+2],v=u[p+3],y=f-g,x=m-v,M=c,w=c.length-2,b=s.length,E=0;E<w;E+=2){var T=M[E],S=M[E+1],I=M[E+2],A=M[E+3],R=0<y*(A-v)-x*(I-g);if(0<y*(S-v)-x*(T-g)){if(R){s.push(I),s.push(A);continue}var C,P,k=((P=I-T)*(m-S)-(C=A-S)*(f-T))/(C*(g-f)-P*(v-m));s.push(f+(g-f)*k),s.push(m+(v-m)*k)}else R&&(k=((P=I-T)*(m-S)-(C=A-S)*(f-T))/(C*(g-f)-P*(v-m)),s.push(f+(g-f)*k),s.push(m+(v-m)*k),s.push(I),s.push(A));h=!0}if(b==s.length)return!(l.length=0);if(s.push(s[0]),s.push(s[1]),p==d)break;var V=s;(s=c).length=0,c=V}if(l!=s)for(var p=l.length=0,N=s.length-2;p<N;p++)l[p]=s[p];else l.length=l.length-2;return h},ge.makeClockwise=function(t){for(var e,r,n,a=t,i=t.length,o=a[i-2]*a[1]-a[0]*a[i-1],s=0,l=i-3;s<l;s+=2)e=a[s],r=a[s+1],n=a[s+2],o+=e*a[s+3]-n*r;if(!(o<0))for(var s=0,h=i-2,l=i>>1;s<l;s+=2){var c=a[s],u=a[s+1],d=h-s;a[s]=a[d],a[s+1]=a[1+d],a[d]=c,a[1+d]=u}},H=ge,Z.SkeletonClipping=H,J=ee=ee||{},K=J.core||(J.core={}),ve.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},ve.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},ve.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},ve.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},ve.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},ve.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},ve.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},ve.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},ve.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},ve.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},ve.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},Q=ve,K.SkeletonData=Q,function(tt){tt.FAIL_ON_NON_EXISTING_SKIN=!1;var t=(O.prototype.readSkeletonData=function(t){var e,r=this.scale,n=new tt.SkeletonData,a="string"==typeof t?JSON.parse(t):t,i=a.skeleton;if(null!=i&&(n.hash=i.hash,n.version=i.spine,"3.8"!==n.version.substr(0,3)&&(e="PixiJS Spine plugin supports only format for Spine 3.8. Your model has version "+i.spine+". Please look in pixi-spine repository README for another branch.",console.error(e)),"3.8.75"===n.version&&(e="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.",console.error(e)),n.x=i.x,n.y=i.y,n.width=i.width,n.height=i.height,n.fps=i.fps,n.imagesPath=i.images),a.bones)for(var o=0;o<a.bones.length;o++){var s=a.bones[o],l=null,h=this.getValue(s,"parent",null);if(null!=h&&null==(l=n.findBone(h)))throw new Error("Parent bone not found: "+h);(p=new tt.BoneData(n.bones.length,s.name,l)).length=this.getValue(s,"length",0)*r,p.x=this.getValue(s,"x",0)*r,p.y=this.getValue(s,"y",0)*r,p.rotation=this.getValue(s,"rotation",0),p.scaleX=this.getValue(s,"scaleX",1),p.scaleY=this.getValue(s,"scaleY",1),p.shearX=this.getValue(s,"shearX",0),p.shearY=this.getValue(s,"shearY",0),p.transformMode=O.transformModeFromString(this.getValue(s,"transform","normal")),p.skinRequired=this.getValue(s,"skin",!1),n.bones.push(p)}if(a.slots)for(o=0;o<a.slots.length;o++){var c=(S=a.slots[o]).name,u=S.bone,d=n.findBone(u);if(null==d)throw new Error("Slot bone not found: "+u);var p=new tt.SlotData(n.slots.length,c,d),f=this.getValue(S,"color",null);null!=f&&p.color.setFromString(f);var m=this.getValue(S,"dark",null);null!=m&&(p.darkColor=new tt.Color(1,1,1,1),p.darkColor.setFromString(m)),p.attachmentName=this.getValue(S,"attachment",null),p.blendMode=O.blendModeFromString(this.getValue(S,"blend","normal")),n.slots.push(p)}if(a.ik)for(o=0;o<a.ik.length;o++){var g=a.ik[o];(p=new tt.IkConstraintData(g.name)).order=this.getValue(g,"order",0),p.skinRequired=this.getValue(g,"skin",!1);for(var v=0;v<g.bones.length;v++){if(u=g.bones[v],null==(w=n.findBone(u)))throw new Error("IK bone not found: "+u);p.bones.push(w)}var y=g.target;if(p.target=n.findBone(y),null==p.target)throw new Error("IK target bone not found: "+y);p.mix=this.getValue(g,"mix",1),p.softness=this.getValue(g,"softness",0)*r,p.bendDirection=this.getValue(g,"bendPositive",!0)?1:-1,p.compress=this.getValue(g,"compress",!1),p.stretch=this.getValue(g,"stretch",!1),p.uniform=this.getValue(g,"uniform",!1),n.ikConstraints.push(p)}if(a.transform)for(o=0;o<a.transform.length;o++){for(g=a.transform[o],(p=new tt.TransformConstraintData(g.name)).order=this.getValue(g,"order",0),p.skinRequired=this.getValue(g,"skin",!1),v=0;v<g.bones.length;v++){if(u=g.bones[v],null==(w=n.findBone(u)))throw new Error("Transform constraint bone not found: "+u);p.bones.push(w)}if(y=g.target,p.target=n.findBone(y),null==p.target)throw new Error("Transform constraint target bone not found: "+y);p.local=this.getValue(g,"local",!1),p.relative=this.getValue(g,"relative",!1),p.offsetRotation=this.getValue(g,"rotation",0),p.offsetX=this.getValue(g,"x",0)*r,p.offsetY=this.getValue(g,"y",0)*r,p.offsetScaleX=this.getValue(g,"scaleX",0),p.offsetScaleY=this.getValue(g,"scaleY",0),p.offsetShearY=this.getValue(g,"shearY",0),p.rotateMix=this.getValue(g,"rotateMix",1),p.translateMix=this.getValue(g,"translateMix",1),p.scaleMix=this.getValue(g,"scaleMix",1),p.shearMix=this.getValue(g,"shearMix",1),n.transformConstraints.push(p)}if(a.path)for(o=0;o<a.path.length;o++){for(g=a.path[o],(p=new tt.PathConstraintData(g.name)).order=this.getValue(g,"order",0),p.skinRequired=this.getValue(g,"skin",!1),v=0;v<g.bones.length;v++){if(u=g.bones[v],null==(w=n.findBone(u)))throw new Error("Transform constraint bone not found: "+u);p.bones.push(w)}if(y=g.target,p.target=n.findSlot(y),null==p.target)throw new Error("Path target slot not found: "+y);p.positionMode=O.positionModeFromString(this.getValue(g,"positionMode","percent")),p.spacingMode=O.spacingModeFromString(this.getValue(g,"spacingMode","length")),p.rotateMode=O.rotateModeFromString(this.getValue(g,"rotateMode","tangent")),p.offsetRotation=this.getValue(g,"rotation",0),p.position=this.getValue(g,"position",0),p.positionMode==tt.PositionMode.Fixed&&(p.position*=r),p.spacing=this.getValue(g,"spacing",0),p.spacingMode!=tt.SpacingMode.Length&&p.spacingMode!=tt.SpacingMode.Fixed||(p.spacing*=r),p.rotateMix=this.getValue(g,"rotateMix",1),p.translateMix=this.getValue(g,"translateMix",1),n.pathConstraints.push(p)}if(a.skins)for(o=0;o<a.skins.length;o++){var x=a.skins[o],M=new tt.Skin(x.name);if(x.bones)for(var w,b=0;b<x.bones.length;b++){if(null==(w=n.findBone(x.bones[b])))throw new Error("Skin bone not found: "+x.bones[o]);M.bones.push(w)}if(x.ik)for(b=0;b<x.ik.length;b++){if(null==(E=n.findIkConstraint(x.ik[b])))throw new Error("Skin IK constraint not found: "+x.ik[o]);M.constraints.push(E)}if(x.transform)for(b=0;b<x.transform.length;b++){if(null==(E=n.findTransformConstraint(x.transform[b])))throw new Error("Skin transform constraint not found: "+x.transform[o]);M.constraints.push(E)}if(x.path)for(var E,b=0;b<x.path.length;b++){if(null==(E=n.findPathConstraint(x.path[b])))throw new Error("Skin path constraint not found: "+x.path[o]);M.constraints.push(E)}for(var c in x.attachments){var T=n.findSlot(c);if(null==T)throw new Error("Slot not found: "+c);var S=x.attachments[c];for(var I in S){var A=this.readAttachment(S[I],M,T.index,I,n);null!=A&&M.setAttachment(T.index,I,A)}}n.skins.push(M),"default"==M.name&&(n.defaultSkin=M)}for(var o=0,R=this.linkedMeshes.length;o<R;o++){var C=this.linkedMeshes[o];if(null==(M=null==C.skin?n.defaultSkin:n.findSkin(C.skin)))throw new Error("Skin not found: "+C.skin);var P=M.getAttachment(C.slotIndex,C.parent);if(null==P)throw new Error("Parent mesh not found: "+C.parent);C.mesh.deformAttachment=C.inheritDeform?P:C.mesh,C.mesh.setParentMesh(P)}if(this.linkedMeshes.length=0,a.events)for(var k in a.events){var V=a.events[k];(p=new tt.EventData(k)).intValue=this.getValue(V,"int",0),p.floatValue=this.getValue(V,"float",0),p.stringValue=this.getValue(V,"string",""),p.audioPath=this.getValue(V,"audio",null),null!=p.audioPath&&(p.volume=this.getValue(V,"volume",1),p.balance=this.getValue(V,"balance",0)),n.events.push(p)}if(a.animations)for(var N in a.animations){var F=a.animations[N];this.readAnimation(F,N,n)}return n},O.prototype.readAttachment=function(t,e,r,n,a){var i=this.scale;switch(n=this.getValue(t,"name",n),this.getValue(t,"type","region")){case"region":var o=this.getValue(t,"path",n),s=this.attachmentLoader.newRegionAttachment(e,n,o);return null==s?null:(s.path=o,s.x=this.getValue(t,"x",0)*i,s.y=this.getValue(t,"y",0)*i,s.scaleX=this.getValue(t,"scaleX",1),s.scaleY=this.getValue(t,"scaleY",1),s.rotation=this.getValue(t,"rotation",0),s.width=t.width*i,s.height=t.height*i,null!=(x=this.getValue(t,"color",null))&&s.color.setFromString(x),s);case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(e,n);return null==l?null:(this.readVertices(t,l,t.vertexCount<<1),null!=(x=this.getValue(t,"color",null))&&l.color.setFromString(x),l);case"mesh":case"linkedmesh":var o=this.getValue(t,"path",n),h=this.attachmentLoader.newMeshAttachment(e,n,o);if(null==h)return null;h.path=o,null!=(x=this.getValue(t,"color",null))&&h.color.setFromString(x),h.width=this.getValue(t,"width",0)*i,h.height=this.getValue(t,"height",0)*i;var c=this.getValue(t,"parent",null);if(null!=c)return this.linkedMeshes.push(new M(h,this.getValue(t,"skin",null),r,c,this.getValue(t,"deform",!0))),h;var u=t.uvs;return this.readVertices(t,h,u.length),h.triangles=t.triangles,h.regionUVs=new Float32Array(u),h.edges=this.getValue(t,"edges",null),h.hullLength=2*this.getValue(t,"hull",0),h;case"path":if(null==(o=this.attachmentLoader.newPathAttachment(e,n)))return null;o.closed=this.getValue(t,"closed",!1),o.constantSpeed=this.getValue(t,"constantSpeed",!0);var d=t.vertexCount;this.readVertices(t,o,d<<1);for(var p=tt.Utils.newArray(d/3,0),f=0;f<t.lengths.length;f++)p[f]=t.lengths[f]*i;return o.lengths=p,null!=(x=this.getValue(t,"color",null))&&o.color.setFromString(x),o;case"point":var m=this.attachmentLoader.newPointAttachment(e,n);return null==m?null:(m.x=this.getValue(t,"x",0)*i,m.y=this.getValue(t,"y",0)*i,m.rotation=this.getValue(t,"rotation",0),null!=(x=this.getValue(t,"color",null))&&m.color.setFromString(x),m);case"clipping":var g=this.attachmentLoader.newClippingAttachment(e,n);if(null==g)return null;var v=this.getValue(t,"end",null);if(null!=v){var y=a.findSlot(v);if(null==y)throw new Error("Clipping end slot not found: "+v);g.endSlot=y}var x,d=t.vertexCount;return this.readVertices(t,g,d<<1),null!=(x=this.getValue(t,"color",null))&&g.color.setFromString(x),g}return null},O.prototype.readVertices=function(t,e,r){var n=this.scale;e.worldVerticesLength=r;var a=t.vertices;if(r!=a.length){for(var i=new Array,o=new Array,s=0,l=a.length;s<l;){var h=a[s++];o.push(h);for(var c=s+4*h;s<c;s+=4)o.push(a[s]),i.push(a[s+1]*n),i.push(a[s+2]*n),i.push(a[s+3])}e.bones=o,e.vertices=tt.Utils.toFloatArray(i)}else{var u=tt.Utils.toFloatArray(a);if(1!=n)for(var s=0,l=a.length;s<l;s++)u[s]*=n;e.vertices=u}},O.prototype.readAnimation=function(t,e,r){var n=this.scale,a=new Array,i=0;if(t.slots)for(var o in t.slots){var s=t.slots[o];if(-1==(Z=r.findSlotIndex(o)))throw new Error("Slot not found: "+o);for(var l in s){var h=s[l];if("attachment"==l){(x=new tt.AttachmentTimeline(h.length)).slotIndex=Z;for(var c=0,u=0;u<h.length;u++){var d=h[u];x.setFrame(c++,this.getValue(d,"time",0),d.name)}a.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}else if("color"==l){for((x=new tt.ColorTimeline(h.length)).slotIndex=Z,u=c=0;u<h.length;u++){var d=h[u],p=new tt.Color;p.setFromString(d.color||"ffffffff"),x.setFrame(c,this.getValue(d,"time",0),p.r,p.g,p.b,p.a),this.readCurve(d,x,c),c++}a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.ColorTimeline.ENTRIES])}else{if("twoColor"!=l)throw new Error("Invalid timeline type for a slot: "+l+" ("+o+")");for((x=new tt.TwoColorTimeline(h.length)).slotIndex=Z,u=c=0;u<h.length;u++){var d=h[u],f=new tt.Color,m=new tt.Color;f.setFromString(d.light),m.setFromString(d.dark),x.setFrame(c,this.getValue(d,"time",0),f.r,f.g,f.b,f.a,m.r,m.g,m.b),this.readCurve(d,x,c),c++}a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.TwoColorTimeline.ENTRIES])}}}if(t.bones)for(var g in t.bones){var v=t.bones[g],y=r.findBoneIndex(g);if(-1==y)throw new Error("Bone not found: "+g);for(var l in v)if(h=v[l],"rotate"===l){for((x=new tt.RotateTimeline(h.length)).boneIndex=y,u=c=0;u<h.length;u++)d=h[u],x.setFrame(c,this.getValue(d,"time",0),this.getValue(d,"angle",0)),this.readCurve(d,x,c),c++;a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.RotateTimeline.ENTRIES])}else{if("translate"!==l&&"scale"!==l&&"shear"!==l)throw new Error("Invalid timeline type for a bone: "+l+" ("+g+")");var x=null,M=1,w=0;for("scale"===l?(x=new tt.ScaleTimeline(h.length),w=1):"shear"===l?x=new tt.ShearTimeline(h.length):(x=new tt.TranslateTimeline(h.length),M=n),x.boneIndex=y,u=c=0;u<h.length;u++){var d=h[u],b=this.getValue(d,"x",w),E=this.getValue(d,"y",w);x.setFrame(c,this.getValue(d,"time",0),b*M,E*M),this.readCurve(d,x,c),c++}a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.TranslateTimeline.ENTRIES])}}if(t.ik)for(var T in t.ik){var S=t.ik[T],I=r.findIkConstraint(T);for((x=new tt.IkConstraintTimeline(S.length)).ikConstraintIndex=r.ikConstraints.indexOf(I),u=c=0;u<S.length;u++)d=S[u],x.setFrame(c,this.getValue(d,"time",0),this.getValue(d,"mix",1),this.getValue(d,"softness",0)*n,this.getValue(d,"bendPositive",!0)?1:-1,this.getValue(d,"compress",!1),this.getValue(d,"stretch",!1)),this.readCurve(d,x,c),c++;a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var T in t.transform){for(S=t.transform[T],I=r.findTransformConstraint(T),(x=new tt.TransformConstraintTimeline(S.length)).transformConstraintIndex=r.transformConstraints.indexOf(I),u=c=0;u<S.length;u++)d=S[u],x.setFrame(c,this.getValue(d,"time",0),this.getValue(d,"rotateMix",1),this.getValue(d,"translateMix",1),this.getValue(d,"scaleMix",1),this.getValue(d,"shearMix",1)),this.readCurve(d,x,c),c++;a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.TransformConstraintTimeline.ENTRIES])}if(t.path)for(var T in t.path){var S=t.path[T],A=r.findPathConstraintIndex(T);if(-1==A)throw new Error("Path constraint not found: "+T);var R=r.pathConstraints[A];for(var l in S)if(h=S[l],"position"===l||"spacing"===l){var x=null,M=1;for("spacing"===l?(x=new tt.PathConstraintSpacingTimeline(h.length),R.spacingMode!=tt.SpacingMode.Length&&R.spacingMode!=tt.SpacingMode.Fixed||(M=n)):(x=new tt.PathConstraintPositionTimeline(h.length),R.positionMode==tt.PositionMode.Fixed&&(M=n)),x.pathConstraintIndex=A,u=c=0;u<h.length;u++)d=h[u],x.setFrame(c,this.getValue(d,"time",0),this.getValue(d,l,0)*M),this.readCurve(d,x,c),c++;a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===l){for((x=new tt.PathConstraintMixTimeline(h.length)).pathConstraintIndex=A,u=c=0;u<h.length;u++)d=h[u],x.setFrame(c,this.getValue(d,"time",0),this.getValue(d,"rotateMix",1),this.getValue(d,"translateMix",1)),this.readCurve(d,x,c),c++;a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.PathConstraintMixTimeline.ENTRIES])}}if(t.deform)for(var C in t.deform){var P=t.deform[C],k=r.findSkin(C);if(null!=k)for(var o in P){if(s=P[o],-1==(Z=r.findSlotIndex(o)))throw new Error("Slot not found: "+s.name);for(var l in s){var h=s[l],V=k.getAttachment(Z,l);if(null==V)throw new Error("Deform attachment not found: "+h.name);var N=null!=V.bones,F=V.vertices,O=N?F.length/3*2:F.length;(x=new tt.DeformTimeline(h.length)).slotIndex=Z,x.attachment=V;for(var c=0,_=0;_<h.length;_++){var d=h[_],D=void 0,X=this.getValue(d,"vertices",null);if(null==X)D=N?tt.Utils.newFloatArray(O):F;else{D=tt.Utils.newFloatArray(O);var U=this.getValue(d,"offset",0);if(tt.Utils.arrayCopy(X,0,D,U,X.length),1!=n)for(var L=(u=U)+X.length;u<L;u++)D[u]*=n;if(!N)for(u=0;u<O;u++)D[u]+=F[u]}x.setFrame(c,this.getValue(d,"time",0),D),this.readCurve(d,x,c),c++}a.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}}else if(tt.FAIL_ON_NON_EXISTING_SKIN)throw new Error("Skin not found: "+C)}var B=t.drawOrder;if(null==B&&(B=t.draworder),null!=B){for(var x=new tt.DrawOrderTimeline(B.length),Y=r.slots.length,c=0,_=0;_<B.length;_++){var W=B[_],q=null,j=this.getValue(W,"offsets",null);if(null!=j){q=tt.Utils.newArray(Y,-1);for(var G=tt.Utils.newArray(Y-j.length,0),H=0,z=0,u=0;u<j.length;u++){var Z,J=j[u];if(-1==(Z=r.findSlotIndex(J.slot)))throw new Error("Slot not found: "+J.slot);for(;H!=Z;)G[z++]=H++;q[H+J.offset]=H++}for(;H<Y;)G[z++]=H++;for(u=Y-1;0<=u;u--)-1==q[u]&&(q[u]=G[--z])}x.setFrame(c++,this.getValue(W,"time",0),q)}a.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}if(t.events){for(x=new tt.EventTimeline(t.events.length),u=c=0;u<t.events.length;u++){var K=t.events[u],Q=r.findEvent(K.name);if(null==Q)throw new Error("Event not found: "+K.name);var $=new tt.Event(tt.Utils.toSinglePrecision(this.getValue(K,"time",0)),Q);$.intValue=this.getValue(K,"int",Q.intValue),$.floatValue=this.getValue(K,"float",Q.floatValue),$.stringValue=this.getValue(K,"string",Q.stringValue),null!=$.data.audioPath&&($.volume=this.getValue(K,"volume",1),$.balance=this.getValue(K,"balance",0)),x.setFrame(c++,$)}a.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}if(isNaN(i))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new tt.Animation(e,a,i))},O.prototype.readCurve=function(t,e,r){var n;t.hasOwnProperty("curve")&&("stepped"===t.curve?e.setStepped(r):(n=t.curve,e.setCurve(r,n,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))))},O.prototype.getValue=function(t,e,r){return void 0!==t[e]?t[e]:r},O.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return tt.BlendMode.Normal;if("additive"==t)return tt.BlendMode.Additive;if("multiply"==t)return tt.BlendMode.Multiply;if("screen"==t)return tt.BlendMode.Screen;throw new Error("Unknown blend mode: "+t)},O.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return tt.PositionMode.Fixed;if("percent"==t)return tt.PositionMode.Percent;throw new Error("Unknown position mode: "+t)},O.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return tt.SpacingMode.Length;if("fixed"==t)return tt.SpacingMode.Fixed;if("percent"==t)return tt.SpacingMode.Percent;throw new Error("Unknown position mode: "+t)},O.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return tt.RotateMode.Tangent;if("chain"==t)return tt.RotateMode.Chain;if("chainscale"==t)return tt.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+t)},O.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return tt.TransformMode.Normal;if("onlytranslation"==t)return tt.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return tt.TransformMode.NoRotationOrReflection;if("noscale"==t)return tt.TransformMode.NoScale;if("noscaleorreflection"==t)return tt.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},O);function O(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}tt.SkeletonJson=t;var M=function(t,e,r,n,a){this.mesh=t,this.skin=e,this.slotIndex=r,this.parent=n,this.inheritDeform=a}}(($=ee=ee||{}).core||($.core={})),function(l){var i=function(t,e,r){this.slotIndex=t,this.name=e,this.attachment=r};l.SkinEntry=i;var t=(e.prototype.setAttachment=function(t,e,r){if(null==r)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=r},e.prototype.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var r=t.bones[e],n=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==r){n=!0;break}n||this.bones.push(r)}for(e=0;e<t.constraints.length;e++){for(var i=t.constraints[e],n=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==i){n=!0;break}n||this.constraints.push(i)}for(var o=t.getAttachments(),e=0;e<o.length;e++){var s=o[e];this.setAttachment(s.slotIndex,s.name,s.attachment)}},e.prototype.copySkin=function(t){for(var e=0;e<t.bones.length;e++){for(var r=t.bones[e],n=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==r){n=!0;break}n||this.bones.push(r)}for(e=0;e<t.constraints.length;e++){for(var i=t.constraints[e],n=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==i){n=!0;break}n||this.constraints.push(i)}for(var o=t.getAttachments(),e=0;e<o.length;e++){var s=o[e];null!=s.attachment&&(s.attachment instanceof l.MeshAttachment?s.attachment=s.attachment.newLinkedMesh():s.attachment=s.attachment.copy(),this.setAttachment(s.slotIndex,s.name,s.attachment))}},e.prototype.getAttachment=function(t,e){var r=this.attachments[t];return r?r[e]:null},e.prototype.removeAttachment=function(t,e){var r=this.attachments[t];r&&(r[e]=null)},e.prototype.getAttachments=function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var r=this.attachments[e];if(r)for(var n in r){var a=r[n];a&&t.push(new i(e,n,a))}}return t},e.prototype.getAttachmentsForSlot=function(t,e){var r=this.attachments[t];if(r)for(var n in r){var a=r[n];a&&e.push(new i(t,n,a))}},e.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},e.prototype.attachAll=function(t,e){for(var r=0,n=0;n<t.slots.length;n++){var a=t.slots[n],i=a.getAttachment();if(i&&r<e.attachments.length){var o=e.attachments[r];for(var s in o)if(i==o[s]){var l=this.getAttachment(r,s);null!=l&&a.setAttachment(l);break}}r++}},e);function e(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==t)throw new Error("name cannot be null.");this.name=t}l.Skin=t}((tt=ee=ee||{}).core||(tt.core={})),et=ee=ee||{},rt=et.core||(et.core={}),ye.prototype.getAttachment=function(){return this.attachment},ye.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},ye.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},ye.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},ye.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},nt=ye,rt.Slot=nt,at=ee=ee||{},(it=at.core||(at.core={})).SlotData=xe,function(t){var e,r,n,a,i=(o.prototype.getImage=function(){return this._image},o.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},o.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return n.MirroredRepeat;case"clamptoedge":return n.ClampToEdge;case"repeat":return n.Repeat;default:throw new Error("Unknown texture wrap "+t)}},o);function o(t){this._image=t}t.Texture=i,(r=e=t.TextureFilter||(t.TextureFilter={}))[r.Nearest=9728]="Nearest",r[r.Linear=9729]="Linear",r[r.MipMap=9987]="MipMap",r[r.MipMapNearestNearest=9984]="MipMapNearestNearest",r[r.MipMapLinearNearest=9985]="MipMapLinearNearest",r[r.MipMapNearestLinear=9986]="MipMapNearestLinear",r[r.MipMapLinearLinear=9987]="MipMapLinearLinear",(a=n=t.TextureWrap||(t.TextureWrap={}))[a.MirroredRepeat=33648]="MirroredRepeat",a[a.ClampToEdge=33071]="ClampToEdge",a[a.Repeat=10497]="Repeat";var s=(Object.defineProperty(l.prototype,"width",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.width:t.trim?t.trim.width:t.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.height:t.trim?t.trim.height:t.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"offsetX",{get:function(){var t=this.texture;return t.trim?t.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"offsetY",{get:function(){return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."),this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"pixiOffsetY",{get:function(){var t=this.texture;return t.trim?t.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"spineOffsetY",{get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"originalWidth",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.width:t.crop.width:t.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"originalHeight",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.height:t.crop.height:t.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!1,configurable:!0}),l);function l(){this.size=null}t.TextureRegion=s}((ot=ee=ee||{}).core||(ot.core={})),function(A){var t=(e.prototype.addTexture=function(t,e){for(var r,n=this.pages,a=null,i=0;i<n.length;i++)if(n[i].baseTexture===e.baseTexture){a=n[i];break}null===a&&((a=new R).name="texturePage",r=e.baseTexture,a.width=r.realWidth,a.height=r.realHeight,a.baseTexture=r,a.minFilter=a.magFilter=A.TextureFilter.Nearest,a.uWrap=A.TextureWrap.ClampToEdge,a.vWrap=A.TextureWrap.ClampToEdge,n.push(a));var o=new C;return o.name=t,o.page=a,o.texture=e,o.index=-1,this.regions.push(o),o},e.prototype.addTextureHash=function(t,e){for(var r in t)t.hasOwnProperty(r)&&this.addTexture(e&&-1!==r.indexOf(".")?r.substr(0,r.lastIndexOf(".")):r,t[r])},e.prototype.addSpineAtlas=function(t,e,r){return this.load(t,e,r)},e.prototype.load=function(t,M,w){var b=this;if(null==M)throw new Error("textureLoader cannot be null.");var E=new r(t),T=new Array(4),S=null,I=function(){for(;;){var t=E.readLine();if(null==t)return w&&w(b);if(0==(t=t.trim()).length)S=null;else{if(!S){(S=new R).name=t,2==E.readTuple(T)&&(S.width=parseInt(T[0]),S.height=parseInt(T[1]),E.readTuple(T)),E.readTuple(T),S.minFilter=A.Texture.filterFromString(T[0]),S.magFilter=A.Texture.filterFromString(T[1]);var e=E.readValue();S.uWrap=A.TextureWrap.ClampToEdge,S.vWrap=A.TextureWrap.ClampToEdge,"x"==e?S.uWrap=A.TextureWrap.Repeat:"y"==e?S.vWrap=A.TextureWrap.Repeat:"xy"==e&&(S.uWrap=S.vWrap=A.TextureWrap.Repeat),M(t,function(t){return null===t?(b.pages.splice(b.pages.indexOf(S),1),w&&w(null)):((S.baseTexture=t).valid||t.setSize(S.width,S.height),b.pages.push(S),S.setFilters(),S.width&&S.height||(S.width=t.realWidth,S.height=t.realHeight,S.width&&S.height||console.log("ERROR spine atlas page "+S.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),void I())}),b.pages.push(S);break}var r=new C;r.name=t,r.page=S;var n=E.readValue(),a=0,a="true"==n.toLocaleLowerCase()?6:"false"==n.toLocaleLowerCase()?0:(720-parseFloat(n))%360/45;E.readTuple(T);var i=parseInt(T[0]),o=parseInt(T[1]);E.readTuple(T);var s=parseInt(T[0]),l=parseInt(T[1]),h=S.baseTexture.resolution;i/=h,o/=h,s/=h,l/=h;var c=a%4!=0,u=new PIXI.Rectangle(i,o,c?l:s,c?s:l);4==E.readTuple(T)&&4==E.readTuple(T)&&E.readTuple(T);var d=parseInt(T[0])/h,p=parseInt(T[1])/h;E.readTuple(T);var f,m,g=parseInt(T[0])/h,v=parseInt(T[1])/h,y=new PIXI.Rectangle(0,0,d,p),x=new PIXI.Rectangle(g,p-l-v,s,l);"3"!=PIXI.VERSION[0]?r.texture=new PIXI.Texture(r.page.baseTexture,u,y,x,a):(m=(f=new PIXI.Rectangle(i,o,s,l)).clone(),x.width=d,x.height=p,r.texture=new PIXI.Texture(r.page.baseTexture,f,m,x,a)),r.index=parseInt(E.readValue()),r.texture.updateUvs(),b.regions.push(r)}}};I()},e.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},e.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()},e);function e(t,e,r){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,r)}A.TextureAtlas=t;var r=(n.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},n.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},n.prototype.readTuple=function(t){var e=this.readLine(),r=e.indexOf(":");if(-1==r)throw new Error("Invalid line: "+e);for(var n=0,a=r+1;n<3;n++){var i=e.indexOf(",",a);if(-1==i)break;t[n]=e.substr(a,i-a).trim(),a=i+1}return t[n]=e.substring(a).trim(),n+1},n);function n(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}var R=(a.prototype.setFilters=function(){var t=this.baseTexture,e=this.minFilter;e==A.TextureFilter.Linear?t.scaleMode=PIXI.SCALE_MODES.LINEAR:this.minFilter==A.TextureFilter.Nearest?t.scaleMode=PIXI.SCALE_MODES.NEAREST:(t.mipmap=PIXI.MIPMAP_MODES.POW2,e==A.TextureFilter.MipMapNearestNearest?t.scaleMode=PIXI.SCALE_MODES.NEAREST:t.scaleMode=PIXI.SCALE_MODES.LINEAR)},a);function a(){}A.TextureAtlasPage=R;var i,C=(i=A.TextureRegion,re(o,i),o);function o(){return null!==i&&i.apply(this,arguments)||this}A.TextureAtlasRegion=C}((st=ee=ee||{}).core||(st.core={})),lt=ee=ee||{},ct=lt.core||(lt.core={}),Me.prototype.isActive=function(){return this.active},Me.prototype.apply=function(){this.update()},Me.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},Me.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,a=this.target,i=a.matrix,o=i.a,s=i.c,l=i.b,h=i.d,c=0<o*h-s*l?ct.MathUtils.degRad:-ct.MathUtils.degRad,u=this.data.offsetRotation*c,d=this.data.offsetShearY*c,p=this.bones,f=0,m=p.length;f<m;f++){var g,v,y,x,M,w,b,E,T,S,I,A=p[f],R=!1,C=A.matrix;0!=t&&(g=C.a,b=C.c,v=C.b,E=C.d,(S=Math.atan2(l,o)-Math.atan2(v,g)+u)>ct.MathUtils.PI?S-=ct.MathUtils.PI2:S<-ct.MathUtils.PI&&(S+=ct.MathUtils.PI2),S*=t,y=Math.cos(S),x=Math.sin(S),C.a=y*g-x*v,C.c=y*b-x*E,C.b=x*g+y*v,C.d=x*b+y*E,R=!0),0!=e&&(M=this.temp,a.localToWorld(M.set(this.data.offsetX,this.data.offsetY)),C.tx+=(M.x-C.tx)*e,C.ty+=(M.y-C.ty)*e,R=!0),0<r&&(I=Math.sqrt(C.a*C.a+C.b*C.b),w=Math.sqrt(o*o+l*l),1e-5<I&&(I=(I+(w-I+this.data.offsetScaleX)*r)/I),C.a*=I,C.b*=I,I=Math.sqrt(C.c*C.c+C.d*C.d),w=Math.sqrt(s*s+h*h),1e-5<I&&(I=(I+(w-I+this.data.offsetScaleY)*r)/I),C.c*=I,C.d*=I,R=!0),0<n&&(b=C.c,E=C.d,T=Math.atan2(E,b),(S=Math.atan2(h,s)-Math.atan2(l,o)-(T-Math.atan2(C.b,C.a)))>ct.MathUtils.PI?S-=ct.MathUtils.PI2:S<-ct.MathUtils.PI&&(S+=ct.MathUtils.PI2),S=T+(S+d)*n,I=Math.sqrt(b*b+E*E),C.c=Math.cos(S)*I,C.d=Math.sin(S)*I,R=!0),R&&(A.appliedValid=!1)}},Me.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,a=this.target,i=a.matrix,o=i.a,s=i.c,l=i.b,h=i.d,c=0<o*h-s*l?ct.MathUtils.degRad:-ct.MathUtils.degRad,u=this.data.offsetRotation*c,d=this.data.offsetShearY*c,p=this.bones,f=0,m=p.length;f<m;f++){var g,v,y,x,M,w,b,E,T,S=p[f],I=!1,A=S.matrix;0!=t&&(g=A.a,b=A.c,v=A.b,E=A.d,(w=Math.atan2(l,o)+u)>ct.MathUtils.PI?w-=ct.MathUtils.PI2:w<-ct.MathUtils.PI&&(w+=ct.MathUtils.PI2),w*=t,y=Math.cos(w),x=Math.sin(w),A.a=y*g-x*v,A.c=y*b-x*E,A.b=x*g+y*v,A.d=x*b+y*E,I=!0),0!=e&&(M=this.temp,a.localToWorld(M.set(this.data.offsetX,this.data.offsetY)),A.tx+=M.x*e,A.ty+=M.y*e,I=!0),0<r&&(T=(Math.sqrt(o*o+l*l)-1+this.data.offsetScaleX)*r+1,A.a*=T,A.b*=T,T=(Math.sqrt(s*s+h*h)-1+this.data.offsetScaleY)*r+1,A.c*=T,A.d*=T,I=!0),0<n&&((w=Math.atan2(h,s)-Math.atan2(l,o))>ct.MathUtils.PI?w-=ct.MathUtils.PI2:w<-ct.MathUtils.PI&&(w+=ct.MathUtils.PI2),b=A.c,E=A.d,w=Math.atan2(E,b)+(w-ct.MathUtils.PI/2+d)*n,T=Math.sqrt(b*b+E*E),A.c=Math.cos(w)*T,A.d=Math.sin(w)*T,I=!0),I&&(S.appliedValid=!1)}},Me.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var i=this.bones,o=0,s=i.length;o<s;o++){var l=i[o];l.appliedValid||l.updateAppliedTransform();var h=l.arotation;0!=t&&(f=a.arotation-h+this.data.offsetRotation,h+=(f-=360*(16384-(16384.499999999996-f/360|0)))*t);var c=l.ax,u=l.ay;0!=e&&(c+=(a.ax-c+this.data.offsetX)*e,u+=(a.ay-u+this.data.offsetY)*e);var d=l.ascaleX,p=l.ascaleY;0<r&&(1e-5<d&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*r)/d),1e-5<p&&(p=(p+(a.ascaleY-p+this.data.offsetScaleY)*r)/p));var f,m=l.ashearY;0<n&&(f=a.ashearY-m+this.data.offsetShearY,f-=360*(16384-(16384.499999999996-f/360|0)),l.shearY+=f*n),l.updateWorldTransformWith(c,u,h,d,p,l.ashearX,m)}},Me.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var i=this.bones,o=0,s=i.length;o<s;o++){var l=i[o];l.appliedValid||l.updateAppliedTransform();var h=l.arotation;0!=t&&(h+=(a.arotation+this.data.offsetRotation)*t);var c=l.ax,u=l.ay;0!=e&&(c+=(a.ax+this.data.offsetX)*e,u+=(a.ay+this.data.offsetY)*e);var d=l.ascaleX,p=l.ascaleY;0<r&&(1e-5<d&&(d*=(a.ascaleX-1+this.data.offsetScaleX)*r+1),1e-5<p&&(p*=(a.ascaleY-1+this.data.offsetScaleY)*r+1));var f=l.ashearY;0<n&&(f+=(a.ashearY+this.data.offsetShearY)*n),l.updateWorldTransformWith(c,u,h,d,p,l.ashearX,f)}},ut=Me,ct.TransformConstraint=ut,dt=ee=ee||{},pt=dt.core||(dt.core={}),ft=pt.ConstraintData,re(we,ft),mt=we,pt.TransformConstraintData=mt,gt=ee=ee||{},vt=gt.core||(gt.core={}),be.prototype.triangulate=function(t){for(var e=t,r=t.length>>1,n=this.indicesArray,a=n.length=0;a<r;a++)n[a]=a;for(var i=this.isConcaveArray,a=i.length=0,o=r;a<o;++a)i[a]=be.isConcave(a,r,e,n);var s=this.triangles;for(s.length=0;3<r;){for(var l=r-1,a=0,h=1;;){t:if(!i[a]){for(var c=n[l]<<1,u=n[a]<<1,d=n[h]<<1,p=e[c],f=e[1+c],m=e[u],g=e[1+u],v=e[d],y=e[1+d],x=(h+1)%r;x!=l;x=(x+1)%r)if(i[x]){var M=n[x]<<1,w=e[M],b=e[1+M];if(be.positiveArea(v,y,p,f,w,b)&&be.positiveArea(p,f,m,g,w,b)&&be.positiveArea(m,g,v,y,w,b))break t}break}if(0==h){do{if(!i[a])break;a--}while(0<a);break}l=a,h=((a=h)+1)%r}s.push(n[(r+a-1)%r]),s.push(n[a]),s.push(n[(a+1)%r]),n.splice(a,1),i.splice(a,1);var E=(--r+a-1)%r,T=a==r?0:a;i[E]=be.isConcave(E,r,e,n),i[T]=be.isConcave(T,r,e,n)}return 3==r&&(s.push(n[2]),s.push(n[0]),s.push(n[1])),s},be.prototype.decompose=function(t,e){var r=t,n=this.convexPolygons;this.polygonPool.freeAll(n),n.length=0;var a=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(a),a.length=0;var i=this.polygonIndicesPool.obtain();i.length=0;for(var o=this.polygonPool.obtain(),s=-1,l=o.length=0,h=0,c=e.length;h<c;h+=3){var u=e[h]<<1,d=e[h+1]<<1,p=e[h+2]<<1,f=r[u],m=r[1+u],g=r[d],v=r[1+d],y=r[p],x=r[1+p],M=!1;s==u&&(w=o.length-4,A=be.winding(o[w],o[w+1],o[w+2],o[w+3],y,x),R=be.winding(y,x,o[0],o[1],o[2],o[3]),A==l&&R==l&&(o.push(y),o.push(x),i.push(p),M=!0)),M||(0<o.length?(n.push(o),a.push(i)):(this.polygonPool.free(o),this.polygonIndicesPool.free(i)),(o=this.polygonPool.obtain()).length=0,o.push(f),o.push(m),o.push(g),o.push(v),o.push(y),o.push(x),(i=this.polygonIndicesPool.obtain()).length=0,i.push(u),i.push(d),i.push(p),l=be.winding(f,m,g,v,y,x),s=u)}for(0<o.length&&(n.push(o),a.push(i)),h=0,c=n.length;h<c;h++)if(0!=(i=a[h]).length)for(var w,b,E,T,S,I,A,R,C=i[0],P=i[i.length-1],k=(o=n[h])[w=o.length-4],V=o[w+1],N=o[w+2],F=o[w+3],O=o[0],_=o[1],D=o[2],X=o[3],U=be.winding(k,V,N,F,O,_),L=0;L<c;L++)L!=h&&3==(b=a[L]).length&&(E=b[0],T=b[1],S=b[2],y=(I=n[L])[I.length-2],x=I[I.length-1],E==C&&T==P&&(A=be.winding(k,V,N,F,y,x),R=be.winding(y,x,O,_,D,X),A==U&&R==U&&(I.length=0,b.length=0,o.push(y),o.push(x),i.push(S),k=N,V=F,N=y,F=x,L=0)));for(h=n.length-1;0<=h;h--)0==(o=n[h]).length&&(n.splice(h,1),this.polygonPool.free(o),i=a[h],a.splice(h,1),this.polygonIndicesPool.free(i));return n},be.isConcave=function(t,e,r,n){var a=n[(e+t-1)%e]<<1,i=n[t]<<1,o=n[(t+1)%e]<<1;return!this.positiveArea(r[a],r[1+a],r[i],r[1+i],r[o],r[1+o])},be.positiveArea=function(t,e,r,n,a,i){return 0<=t*(i-n)+r*(e-i)+a*(n-e)},be.winding=function(t,e,r,n,a,i){var o=r-t,s=n-e;return 0<=a*s-i*o+o*e-t*s?1:-1},yt=be,vt.Triangulator=yt,function(t){var e=(r.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},r.prototype.contains=function(t){return null!=this.array[0|t]},r.prototype.remove=function(t){this.array[0|t]=void 0},r.prototype.clear=function(){this.array.length=0},r);function r(){this.array=new Array}t.IntSet=e;var n=(a.prototype.set=function(t,e,r,n){return this.r=t,this.g=e,this.b=r,this.a=n,this.clamp(),this},a.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},a.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},a.prototype.add=function(t,e,r,n){return this.r+=t,this.g+=e,this.b+=r,this.a+=n,this.clamp(),this},a.prototype.clamp=function(){return this.r<0?this.r=0:1<this.r&&(this.r=1),this.g<0?this.g=0:1<this.g&&(this.g=1),this.b<0?this.b=0:1<this.b&&(this.b=1),this.a<0?this.a=0:1<this.a&&(this.a=1),this},a.rgba8888ToColor=function(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255},a.rgb888ToColor=function(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255},a.WHITE=new a(1,1,1,1),a.RED=new a(1,0,0,1),a.GREEN=new a(0,1,0,1),a.BLUE=new a(0,0,1,1),a.MAGENTA=new a(1,0,1,1),a);function a(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.r=t,this.g=e,this.b=r,this.a=n}t.Color=n;var i=(o.clamp=function(t,e,r){return t<e?e:r<t?r:t},o.cosDeg=function(t){return Math.cos(t*o.degRad)},o.sinDeg=function(t){return Math.sin(t*o.degRad)},o.signum=function(t){return 0<t?1:t<0?-1:0},o.toInt=function(t){return 0<t?Math.floor(t):Math.ceil(t)},o.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},o.randomTriangular=function(t,e){return o.randomTriangularWith(t,e,.5*(t+e))},o.randomTriangularWith=function(t,e,r){var n=Math.random(),a=e-t;return n<=(r-t)/a?t+Math.sqrt(n*a*(r-t)):e-Math.sqrt((1-n)*a*(e-r))},o.PI2=2*(o.PI=3.1415927),o.radDeg=o.radiansToDegrees=180/o.PI,o.degRad=o.degreesToRadians=o.PI/180,o);function o(){}t.MathUtils=i;var s=(l.prototype.apply=function(t,e,r){return t+(e-t)*this.applyInternal(r)},l);function l(){}t.Interpolation=s;var h,c=(re(u,h=s),u.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},u);function u(t){var e=h.call(this)||this;return e.power=2,e.power=t,e}t.Pow=c;var d,p=(re(f,d=c),f.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1},f);function f(t){return d.call(this,t)||this}t.PowOut=p;var m=(g.arrayCopy=function(t,e,r,n,a){for(var i=e,o=n;i<e+a;i++,o++)r[o]=t[i]},g.setArraySize=function(t,e,r){void 0===r&&(r=0);var n=t.length;if(n==e)return t;if(n<(t.length=e))for(var a=n;a<e;a++)t[a]=r;return t},g.ensureArrayCapacity=function(t,e,r){return void 0===r&&(r=0),t.length>=e?t:g.setArraySize(t,e,r)},g.newArray=function(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r},g.newFloatArray=function(t){if(g.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var e=new Array(t),r=0;r<e.length;r++)e[r]=0;return e},g.newShortArray=function(t){if(g.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var e=new Array(t),r=0;r<e.length;r++)e[r]=0;return e},g.toFloatArray=function(t){return g.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t},g.toSinglePrecision=function(t){return g.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t},g.webkit602BugfixHelper=function(t,e){},g.contains=function(t,e,r){void 0===r&&(r=!0);for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},g.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,g);function g(){}t.Utils=m;var v=(y.logBones=function(t){for(var e=0;e<t.bones.length;e++){var r=t.bones[e],n=r.matrix;console.log(r.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.tx+", "+n.ty)}},y);function y(){}t.DebugUtils=v;var x=(M.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()},M.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},M.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},M.prototype.clear=function(){this.items.length=0},M);function M(t){this.items=new Array,this.instantiator=t}t.Pool=x;var w=(b.prototype.set=function(t,e){return this.x=t,this.y=e,this},b.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},b.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},b);function b(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}t.Vector2=w;var E=(T.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},T);function T(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}t.TimeKeeper=E;var S=(I.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},I.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},I.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},I);function I(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}t.WindowedMean=S}((xt=ee=ee||{}).core||(xt.core={})),function(e){function t(t){if(null==t)throw new Error("name cannot be null.");this.name=t}e.Attachment=t;var r,n=(re(a,r=t),a.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},a.prototype.computeWorldVertices=function(t,e,r,n,a,i){r=a+(r>>1)*i;var o=t.bone.skeleton,s=t.deform,l=this.vertices,h=this.bones;if(null!=h){for(var c=0,u=0,d=0;d<e;d+=2)c+=(g=h[c])+1,u+=g;var p=o.bones;if(0==s.length)for(b=a,E=3*u;b<r;b+=i){var f=0,m=0,g=h[c++];for(g+=c;c<g;c++,E+=3){var v=p[h[c]].matrix,y=l[E],x=l[E+1],M=l[E+2];f+=(y*v.a+x*v.c+v.tx)*M,m+=(y*v.b+x*v.d+v.ty)*M}n[b]=f,n[b+1]=m}else for(var w=s,b=a,E=3*u,T=u<<1;b<r;b+=i){for(m=f=0,g=h[c++],g+=c;c<g;c++,E+=3,T+=2)v=p[h[c]].matrix,y=l[E]+w[T],x=l[E+1]+w[T+1],M=l[E+2],f+=(y*v.a+x*v.c+v.tx)*M,m+=(y*v.b+x*v.d+v.ty)*M;n[b]=f,n[b+1]=m}}else{0<s.length&&(l=s);for(var S=(v=t.bone.matrix).tx,I=v.ty,A=v.a,E=v.c,R=v.b,C=v.d,P=e,b=a;b<r;P+=2,b+=i){var y=l[P],x=l[P+1];n[b]=y*A+x*E+S,n[b+1]=y*R+x*C+I}}},a.prototype.copyTo=function(t){null!=this.bones?(t.bones=new Array(this.bones.length),e.Utils.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,null!=this.vertices?(t.vertices=e.Utils.newFloatArray(this.vertices.length),e.Utils.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment},a.nextID=0,a);function a(t){var e=r.call(this,t)||this;return e.id=(65535&a.nextID++)<<11,e.worldVerticesLength=0,e.deformAttachment=e}e.VertexAttachment=n}((Mt=ee=ee||{}).core||(Mt.core={})),wt=ee=ee||{},bt=wt.core||(wt.core={}),(Et=bt.AttachmentType||(bt.AttachmentType={}))[Et.Region=0]="Region",Et[Et.BoundingBox=1]="BoundingBox",Et[Et.Mesh=2]="Mesh",Et[Et.LinkedMesh=3]="LinkedMesh",Et[Et.Path=4]="Path",Et[Et.Point=5]="Point",Et[Et.Clipping=6]="Clipping",Tt=ee=ee||{},St=Tt.core||(Tt.core={}),It=St.VertexAttachment,re(Ee,It),Ee.prototype.copy=function(){var t=new Ee(name);return this.copyTo(t),t.color.setFromColor(this.color),t},At=Ee,St.BoundingBoxAttachment=At,Rt=ee=ee||{},Ct=Rt.core||(Rt.core={}),Pt=Ct.VertexAttachment,re(Te,Pt),Te.prototype.copy=function(){var t=new Te(name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t},kt=Te,Ct.ClippingAttachment=kt,Vt=ee=ee||{},Nt=Vt.core||(Vt.core={}),Ft=Nt.VertexAttachment,re(Se,Ft),Se.prototype.getParentMesh=function(){return this.parentMesh},Se.prototype.setParentMesh=function(t){null!=(this.parentMesh=t)&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},Se.prototype.copy=function(){if(null!=this.parentMesh)return this.newLinkedMesh();var t=new Se(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Float32Array(this.regionUVs.length),Nt.Utils.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),Nt.Utils.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),Nt.Utils.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,null!=this.edges&&(t.edges=new Array(this.edges.length),Nt.Utils.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t},Se.prototype.newLinkedMesh=function(){var t=new Se(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t},Ot=Se,Nt.MeshAttachment=Ot,_t=ee=ee||{},Dt=_t.core||(_t.core={}),Xt=Dt.VertexAttachment,re(Ie,Xt),Ie.prototype.copy=function(){var t=new Ie(name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),Dt.Utils.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t},Ut=Ie,Dt.PathAttachment=Ut,Lt=ee=ee||{},Bt=Lt.core||(Lt.core={}),Yt=Bt.VertexAttachment,re(Ae,Yt),Ae.prototype.computeWorldPosition=function(t,e){var r=t.matrix;return e.x=this.x*r.a+this.y*r.c+t.worldX,e.y=this.x*r.b+this.y*r.d+t.worldY,e},Ae.prototype.computeWorldRotation=function(t){var e=t.matrix,r=Bt.MathUtils.cosDeg(this.rotation),n=Bt.MathUtils.sinDeg(this.rotation),a=r*e.a+n*e.c,i=r*e.b+n*e.d;return Math.atan2(i,a)*Bt.MathUtils.radDeg},Ae.prototype.copy=function(){var t=new Ae(name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t},Wt=Ae,Bt.PointAttachment=Wt,qt=ee=ee||{},jt=qt.core||(qt.core={}),Gt=jt.Attachment,re(Re,Gt),Re.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*t,n=-this.height/2*this.scaleY+this.region.offsetY*e,a=r+this.region.width*t,i=n+this.region.height*e,o=this.rotation*Math.PI/180,s=Math.cos(o),l=Math.sin(o),h=r*s+this.x,c=r*l,u=n*s+this.y,d=n*l,p=a*s+this.x,f=a*l,m=i*s+this.y,g=i*l,v=this.offset;v[Re.OX1]=h-d,v[Re.OY1]=u+c,v[Re.OX2]=h-g,v[Re.OY2]=m+c,v[Re.OX3]=p-g,v[Re.OY3]=m+f,v[Re.OX4]=p-d,v[Re.OY4]=u+f},Re.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},Re.prototype.computeWorldVertices=function(t,e,r,n){var a=this.offset,i=t.matrix,o=i.tx,s=i.ty,l=i.a,h=i.c,c=i.b,u=i.d,d=a[Re.OX1],p=a[Re.OY1];e[r]=d*l+p*h+o,e[r+1]=d*c+p*u+s,r+=n,d=a[Re.OX2],p=a[Re.OY2],e[r]=d*l+p*h+o,e[r+1]=d*c+p*u+s,r+=n,d=a[Re.OX3],p=a[Re.OY3],e[r]=d*l+p*h+o,e[r+1]=d*c+p*u+s,r+=n,d=a[Re.OX4],p=a[Re.OY4],e[r]=d*l+p*h+o,e[r+1]=d*c+p*u+s},Re.prototype.copy=function(){var t=new Re(name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,jt.Utils.arrayCopy(this.uvs,0,t.uvs,0,8),jt.Utils.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t},Re.OX1=0,Re.OY1=1,Re.OX2=2,Re.OY2=3,Re.OX3=4,Re.OY3=5,Re.OX4=6,Re.OY4=7,Re.X1=0,Re.Y1=1,Re.C1R=2,Re.C1G=3,Re.C1B=4,Re.C1A=5,Re.U1=6,Re.V1=7,Re.X2=8,Re.Y2=9,Re.C2R=10,Re.C2G=11,Re.C2B=12,Re.C2A=13,Re.U2=14,Re.V2=15,Re.X3=16,Re.Y3=17,Re.C3R=18,Re.C3G=19,Re.C3B=20,Re.C3A=21,Re.U3=22,Re.V3=23,Re.X4=24,Re.Y4=25,Re.C4R=26,Re.C4G=27,Re.C4B=28,Re.C4A=29,Re.U4=30,Re.V4=31,Ht=Re,jt.RegionAttachment=Ht,zt=ee=ee||{},Zt=zt.core||(zt.core={}),Ce.prototype.begin=function(t){},Ce.prototype.transform=function(t,e,r,n){t.x+=Zt.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=Zt.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},Ce.prototype.end=function(){},Jt=Ce,Zt.JitterEffect=Jt,Kt=ee=ee||{},Qt=Kt.core||(Kt.core={}),Pe.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},Pe.prototype.transform=function(t,e,r,n){var a,i,o,s=this.angle*Qt.MathUtils.degreesToRadians,l=t.x-this.worldX,h=t.y-this.worldY,c=Math.sqrt(l*l+h*h);c<this.radius&&(a=Pe.interpolation.apply(0,s,(this.radius-c)/this.radius),i=Math.cos(a),o=Math.sin(a),t.x=i*l-o*h+this.worldX,t.y=o*l+i*h+this.worldY)},Pe.prototype.end=function(){},Pe.interpolation=new Qt.PowOut(2),$t=Pe,Qt.SwirlEffect=$t,Math.fround||(Math.fround=Math.fround=(te=new Float32Array(1),function(t){return te[0]=t,te[0]})),function(A){A.core.Bone.yDown=!0;var e,R=[0,0,0],r=(e=PIXI.Sprite,re(t,e),t);function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.region=null,t.attachment=null,t}A.SpineSprite=r;var n,a=PIXI.GraphicsGeometry.prototype;a.invalidate||(n=[],a.invalidate=function(){var t=this.graphicsData;n.push(0),this.graphicsData=n,this.clear(),this.graphicsData=t});var o,i=(o=PIXI.SimpleMesh,re(s,o),s);function s(t,e,r,n,a){var i=o.call(this,t,e,r,n,a)||this;return i.region=null,i.attachment=null,i}A.SpineMesh=i;var c,l=(c=PIXI.Container,re(h,c),Object.defineProperty(h.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,this.updateTransform=t?h.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t)&&(this.lastTime=0)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"tint",{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=PIXI.utils.hex2rgb(t,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"delayLimit",{get:function(){return(void 0!==this.localDelayLimit?this.localDelayLimit:h.globalDelayLimit)||Number.MAX_VALUE},enumerable:!1,configurable:!0}),h.prototype.update=function(t){var e=this.delayLimit;if(e<t&&(t=e),this.state.update(t),this.state.apply(this.skeleton),this.skeleton){this.skeleton.updateWorldTransform();var r=this.skeleton.slots,n=this.color,a=null,i=null;n?(a=n.light,i=n.dark):a=this.tintRgb;for(var o=0,s=r.length;o<s;o++){var l=(I=r[o]).getAttachment(),h=this.slotContainers[o];if(l){var c,u,d,p,f,m=null,g=l.color;if(l instanceof A.core.RegionAttachment){var v,y,x,M,w=l.region;w&&(I.currentMesh&&(I.currentMesh.visible=!1,I.currentMesh=null,I.currentMeshName=void 0),v=w,I.currentSpriteName&&I.currentSpriteName===v.name?I.currentSpriteName!==v.name||I.hackRegion||this.setSpriteRegion(l,I.currentSprite,w):(y=v.name,I.currentSprite&&(I.currentSprite.visible=!1),I.sprites=I.sprites||{},void 0!==I.sprites[y]?I.sprites[y].visible=!0:(x=this.createSprite(I,l,y),h.addChild(x)),I.currentSprite=I.sprites[y],I.currentSpriteName=y)),(M=h.transform).setFromMatrix(I.bone.matrix),I.currentSprite.color?m=I.currentSprite.color:(R[0]=a[0]*I.color.r*g.r,R[1]=a[1]*I.color.g*g.g,R[2]=a[2]*I.color.b*g.b,I.currentSprite.tint=PIXI.utils.rgb2hex(R)),I.currentSprite.blendMode=I.blendMode}else if(l instanceof A.core.MeshAttachment)I.currentSprite&&(I.currentSprite.visible=!1,I.currentSprite=null,I.currentSpriteName=void 0,(M=new PIXI.Transform)._parentID=-1,M._worldID=h.transform._worldID,h.transform=M),I.currentMeshName&&I.currentMeshName===l.name||(c=l.name,I.currentMesh&&(I.currentMesh.visible=!1),I.meshes=I.meshes||{},void 0!==I.meshes[c]?I.meshes[c].visible=!0:(u=this.createMesh(I,l),h.addChild(u)),I.currentMesh=I.meshes[c],I.currentMeshName=c),l.computeWorldVerticesOld(I,I.currentMesh.vertices),I.currentMesh.color?m=I.currentMesh.color:(R[0]=a[0]*I.color.r*g.r,R[1]=a[1]*I.color.g*g.g,R[2]=a[2]*I.color.b*g.b,I.currentMesh.tint=PIXI.utils.rgb2hex(R)),I.currentMesh.blendMode=I.blendMode;else{if(!(l instanceof A.core.ClippingAttachment)){h.visible=!1;continue}I.currentGraphics||(this.createGraphics(I,l),h.addChild(I.clippingContainer),h.addChild(I.currentGraphics)),this.updateGraphics(I,l)}h.visible=!0,m&&(d=I.color.r*g.r,p=I.color.g*g.g,f=I.color.b*g.b,m.setLight(a[0]*d+i[0]*(1-d),a[1]*p+i[1]*(1-p),a[2]*f+i[2]*(1-f)),f=I.darkColor?(d=I.darkColor.r,p=I.darkColor.g,I.darkColor.b):p=d=0,m.setDark(a[0]*d+i[0]*(1-d),a[1]*p+i[1]*(1-p),a[2]*f+i[2]*(1-f))),h.alpha=I.color.a}else h.visible=!1}for(var b=this.skeleton.drawOrder,E=null,T=null,o=0,s=b.length;o<s;o++){var S,I=r[b[o].data.index],h=this.slotContainers[b[o].data.index];T||null!==h.parent&&h.parent!==this&&(h.parent.removeChild(h),h.parent=this),I.currentGraphics&&I.getAttachment()?(T=I.clippingContainer,E=I.getAttachment(),T.children.length=0,this.children[o]=h,E.endSlot==I.data&&(E.endSlot=null)):T?((S=this.tempClipContainers[o])||((S=this.tempClipContainers[o]=this.newContainer()).visible=!1),this.children[o]=S,h.parent=null,T.addChild(h),E.endSlot==I.data&&(T.renderable=!0,E=T=null)):this.children[o]=h}}},h.prototype.setSpriteRegion=function(t,e,r){e.attachment===t&&e.region===r||(e.region=r,e.attachment=t,e.texture=r.texture,e.rotation=t.rotation*A.core.MathUtils.degRad,e.position.x=t.x,e.position.y=t.y,e.alpha=t.color.a,r.size?(e.scale.x=r.size.width/r.originalWidth,e.scale.y=-r.size.height/r.originalHeight):(e.scale.x=t.scaleX*t.width/r.originalWidth,e.scale.y=-t.scaleY*t.height/r.originalHeight))},h.prototype.setMeshRegion=function(t,e,r){e.attachment===t&&e.region===r||(e.region=r,e.attachment=t,e.texture=r.texture,r.texture.updateUvs(),e.uvBuffer.update(t.regionUVs))},h.prototype.autoUpdateTransform=function(){var t;h.globalAutoUpdate?(this.lastTime=this.lastTime||Date.now(),t=.001*(Date.now()-this.lastTime),this.lastTime=Date.now(),this.update(t)):this.lastTime=0,PIXI.Container.prototype.updateTransform.call(this)},h.prototype.createSprite=function(t,e,r){var n=e.region;t.hackAttachment===e&&(n=t.hackRegion);var a=n.texture,i=this.newSprite(a);return i.anchor.set(.5),this.setSpriteRegion(e,i,e.region),t.sprites=t.sprites||{},t.sprites[r]=i},h.prototype.createMesh=function(t,e){var r=e.region;t.hackAttachment===e&&(r=t.hackRegion,t.hackAttachment=null,t.hackRegion=null);var n=this.newMesh(r.texture,new Float32Array(e.regionUVs.length),e.regionUVs,new Uint16Array(e.triangles),PIXI.DRAW_MODES.TRIANGLES);return n.canvasPadding&&(n.canvasPadding=1.5),n.alpha=e.color.a,n.region=e.region,this.setMeshRegion(e,n,r),t.meshes=t.meshes||{},t.meshes[e.name]=n},h.prototype.createGraphics=function(t,e){var r=this.newGraphics(),n=new PIXI.Polygon([]);return r.clear(),r.beginFill(16777215,1),r.drawPolygon(n),r.renderable=!1,t.currentGraphics=r,t.clippingContainer=this.newContainer(),t.clippingContainer.mask=t.currentGraphics,r},h.prototype.updateGraphics=function(t,e){var r=t.currentGraphics.geometry,n=r.graphicsData[0].shape.points,a=e.worldVerticesLength;n.length=a,e.computeWorldVertices(t,0,a,n,0,2),r.invalidate()},h.prototype.hackTextureBySlotIndex=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=null);var n=this.skeleton.slots[t];if(!n)return!1;var a=n.getAttachment(),i=a.region;return e?((i=new A.core.TextureRegion).texture=e,i.size=r,n.hackRegion=i,n.hackAttachment=a):(n.hackRegion=null,n.hackAttachment=null),n.currentSprite&&n.currentSprite.region!=i?(this.setSpriteRegion(a,n.currentSprite,i),n.currentSprite.region=i):n.currentMesh&&n.currentMesh.region!=i&&this.setMeshRegion(a,n.currentMesh,i),!0},h.prototype.hackTextureBySlotName=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=null);var n=this.skeleton.findSlotIndex(t);return-1!=n&&this.hackTextureBySlotIndex(n,e,r)},h.prototype.newContainer=function(){return new PIXI.Container},h.prototype.newSprite=function(t){return new r(t)},h.prototype.newGraphics=function(){return new PIXI.Graphics},h.prototype.newMesh=function(t,e,r,n,a){return new i(t,e,r,n,a)},h.prototype.transformHack=function(){return 1},h.prototype.hackAttachmentGroups=function(t,e,r){if(t){for(var n=[],a=[],i=0,o=this.skeleton.slots.length;i<o;i++){var s=this.skeleton.slots[i],l=s.currentSpriteName||s.currentMeshName||"",h=s.currentSprite||s.currentMesh;l.endsWith(t)?(h.parentGroup=e,a.push(h)):r&&h&&(h.parentGroup=r,n.push(h))}return[n,a]}},h.prototype.destroy=function(t){for(var e=0,r=this.skeleton.slots.length;e<r;e++){var n=this.skeleton.slots[e];for(var a in n.meshes)n.meshes[a].destroy(t);for(var i in n.meshes=null,n.sprites)n.sprites[i].destroy(t);n.sprites=null}for(e=0,r=this.slotContainers.length;e<r;e++)this.slotContainers[e].destroy(t);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,c.prototype.destroy.call(this,t)},h.globalAutoUpdate=!0,h.globalDelayLimit=0,h.clippingPolygon=[],h);function h(t){var e=c.call(this)||this;if(!t)throw new Error("The spineData param is required.");if("string"==typeof t)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');e.spineData=t,e.skeleton=new A.core.Skeleton(t),e.skeleton.updateWorldTransform(),e.stateData=new A.core.AnimationStateData(t),e.state=new A.core.AnimationState(e.stateData),e.slotContainers=[],e.tempClipContainers=[];for(var r=0,n=e.skeleton.slots.length;r<n;r++){var a=e.skeleton.slots[r],i=a.getAttachment(),o=e.newContainer();if(e.slotContainers.push(o),e.addChild(o),e.tempClipContainers.push(null),i instanceof A.core.RegionAttachment){var s=i.region.name,l=e.createSprite(a,i,s);a.currentSprite=l,a.currentSpriteName=s,o.addChild(l)}else if(i instanceof A.core.MeshAttachment){var h=e.createMesh(a,i);a.currentMesh=h,a.currentMeshName=i.name,o.addChild(h)}else{if(!(i instanceof A.core.ClippingAttachment))continue;e.createGraphics(a,i),o.addChild(a.clippingContainer),o.addChild(a.currentGraphics)}}return e.tintRgb=new Float32Array([1,1,1]),e.autoUpdate=!0,e.visible=!0,e}A.Spine=l}(ee=ee||{}),function(t){PIXI.spine=t;var e=PIXI.Texture.prototype;e._updateUvs||(e._updateUvs=e.updateUvs)}(ee=ee||{}),function(y){PIXI.LoaderResource.setExtensionXhrType("skel",PIXI.LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var t=(e.use=function(e,r){if(!e.data)return r();var t=e.type===PIXI.LoaderResource.TYPE.JSON&&e.data.bones,n=e.xhrType===PIXI.LoaderResource.XHR_RESPONSE_TYPE.BUFFER&&("skel"===e.extension||e.metadata.spineMetadata);if(!t&&!n)return r();var a=null,i=e.data;t?a=new y.core.SkeletonJson(null):(a=new y.core.SkeletonBinary(null),e.data instanceof ArrayBuffer&&(i=new Uint8Array(e.data)));var o=e.metadata||{},s=o?e.metadata.spineSkeletonScale:null;s&&(a.scale=s);var l=o?e.metadata.spineAtlas:null;if(!1===l)return r();if(l&&l.pages)return a.attachmentLoader=new y.core.AtlasAttachmentLoader(l),e.spineData=a.readSkeletonData(i),e.spineAtlas=l,r();var h=o.spineAtlasSuffix||".atlas",c=e.url,u=c.indexOf("?");function d(t){new y.core.TextureAtlas(t,v,function(t){t&&(a.attachmentLoader=new y.core.AtlasAttachmentLoader(t),e.spineData=a.readSkeletonData(i),e.spineAtlas=t),r()})}0<u&&(c=c.substr(0,u)),c=c.substr(0,c.lastIndexOf("."))+h,e.metadata&&e.metadata.spineAtlasFile&&(c=e.metadata.spineAtlasFile),c=c.replace(this.baseUrl,"");var p={crossOrigin:e.crossOrigin,xhrType:PIXI.LoaderResource.XHR_RESPONSE_TYPE.TEXT,metadata:o.spineMetadata||null,parentResource:e},f={crossOrigin:e.crossOrigin,metadata:o.imageMetadata||null,parentResource:e},m=(m=e.url.substr(0,e.url.lastIndexOf("/")+1)).replace(this.baseUrl,""),g=o.imageNamePrefix||e.name+"_atlas_page_",v=o.images?M(o.images):o.image?M({default:o.image}):o.imageLoader?o.imageLoader(this,g,m,f):x(this,g,m,f);e.metadata&&e.metadata.atlasRawData?d(e.metadata.atlasRawData):this.add(e.name+"_atlas",c,p,function(t){t.error?r():d(t.data)})},e);function e(){}function x(o,s,l,h){return l&&l.lastIndexOf("/")!==l.length-1&&(l+="/"),function(t,e){var r,n=s+t,a=l+t,i=o.resources[n];i?(r=function(){e(i.texture.baseTexture)},i.texture?r():i.onAfterMiddleware.add(r)):o.add(n,a,h,function(t){t.error?e(null):e(t.texture.baseTexture)})}}function M(n){return function(t,e){var r=n[t]||n.default;r&&r.baseTexture?e(r.baseTexture):e(r)}}y.AtlasParser=t,y.imageLoaderAdapter=x,y.syncImageLoaderAdapter=function(t,r){return t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),function(t,e){e(PIXI.BaseTexture.from(t,r))}},y.staticImageLoader=M,PIXI.Loader&&PIXI.Loader.registerPlugin(t)}(ee=ee||{})}],a.c=i,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0);function a(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}var n,i});